<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–≠–Ω–µ—Ä–≥–µ—Ç–∏—á–µ—Å–∫–∏–π —à–∏—Ñ—Ä: –£–≥–∞–¥–∞–π —Å–ª–æ–≤–æ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #0c0c0c 0%, #1a1a2e 50%, #16213e 100%);
            color: #fff;
            min-height: 100vh;
            line-height: 1.6;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            padding: 20px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            margin-bottom: 20px;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            background: linear-gradient(45deg, #FFD700, #FFA500);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
        }

        .header h1 .emoji-icon {
            background: none !important;
            -webkit-text-fill-color: initial !important;
            filter: none !important;
            display: inline-block;
        }

        .btn {
            padding: 10px 20px;
            border: none;
            border-radius: 25px;
            font-size: 1em;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            margin: 5px;
        }

        .btn-secondary {
            background: linear-gradient(45deg, #00ff88, #00cc66);
            color: white;
        }

        .btn:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 20px rgba(0, 180, 219, 0.4);
        }

        .content-section {
            background: rgba(255, 255, 255, 0.1);
            padding: 30px;
            border-radius: 20px;
            margin-bottom: 30px;
            text-align: center;
        }

        .game-screen {
            display: none;
        }

        .current-team-display {
            text-align: center;
            margin: 15px 0;
            padding: 15px;
            background: rgba(255, 215, 0, 0.1);
            border-radius: 20px;
            border: 3px solid #FFD700;
        }

        .turn-indicator {
            display: none;
        }

        .team-card-large {
            display: inline-block;
            padding: 15px 30px;
        }

        .team-info-compact {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
            font-size: 1.8em;
            font-weight: bold;
        }

        .team-info-compact .team-indicator {
            color: #FFD700;
        }

        .team-info-compact .team-icon-large {
            font-size: 1.8em;
            margin: 0;
        }

        .team-info-compact .team-name-large {
            font-size: 1.8em;
            font-weight: bold;
            color: #FFD700;
            margin: 0;
        }

        .score-board {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }

        .team-score {
            background: rgba(255, 255, 255, 0.1);
            padding: 20px;
            border-radius: 15px;
            border: 3px solid;
            display: flex;
            align-items: center;
            justify-content: space-between;
            font-size: 1.2em;
            transition: all 0.3s ease;
        }

        .team-score.current-team {
            border: 4px solid #FFD700 !important;
            box-shadow: 0 0 30px rgba(255, 215, 0, 0.7) !important;
            transform: scale(1.05);
            background: rgba(255, 215, 0, 0.1) !important;
        }

        @keyframes gentlePulse {
            0% { box-shadow: 0 0 20px rgba(255, 215, 0, 0.5); }
            50% { box-shadow: 0 0 40px rgba(255, 215, 0, 0.8); }
            100% { box-shadow: 0 0 20px rgba(255, 215, 0, 0.5); }
        }

        .current-team {
            animation: gentlePulse 2s infinite;
        }

        .team-score-info {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .team-stats {
            text-align: right;
        }

        .team-points {
            font-size: 1.5em;
            font-weight: bold;
            color: #00ff88;
        }

        /* –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Ü–µ–ø–∏ */
        .circuit-container {
            text-align: center;
            margin: 15px 0;
            padding: 15px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
        }

        .circuit {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 10px;
            margin: 15px 0;
        }

        .bulb {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: #333;
            border: 3px solid #555;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5em;
            transition: all 0.3s ease;
        }

        .bulb.active {
            background: #FFD700;
            border-color: #FFA500;
            box-shadow: 0 0 20px #FFD700;
        }

        .bulb.burned {
            background: #ff4444;
            border-color: #cc0000;
        }

        .wire {
            width: 40px;
            height: 4px;
            background: #555;
        }

        /* –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å–ª–æ–≤–∞ */
        .word-display {
            text-align: center;
            margin: 25px 0;
            font-size: 3em;
            letter-spacing: 15px;
            font-weight: bold;
            color: #00b4db;
            min-height: 90px;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-wrap: wrap;
            gap: 8px;
            background: rgba(0, 180, 219, 0.05);
            border-radius: 15px;
            padding: 20px;
            border: 2px solid rgba(0, 180, 219, 0.2);
        }

        .letter {
            display: inline-block;
            width: 65px;
            height: 80px;
            border-bottom: 5px solid #00b4db;
            margin: 0 6px;
            text-align: center;
            line-height: 80px;
            font-size: 1.1em;
            text-transform: uppercase;
            transition: all 0.3s ease;
        }

        .letter.revealed {
            color: #FFD700;
            text-shadow: 0 0 10px rgba(255, 215, 0, 0.5);
        }

        .letter.space {
            border-bottom: none;
            width: 25px;
        }

        /* –ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞ */
        .keyboard {
            display: grid;
            grid-template-columns: repeat(10, 1fr);
            gap: 6px;
            max-width: 600px;
            margin: 0 auto;
            padding: 15px;
        }

        .key {
            padding: 12px 5px;
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid #333;
            border-radius: 8px;
            color: white;
            font-size: 1.1em;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.2s ease;
            text-align: center;
        }

        .key:hover:not(.used) {
            background: rgba(0, 180, 219, 0.3);
            border-color: #00b4db;
        }

        .key.used {
            background: #333;
            color: #666;
            cursor: not-allowed;
        }

        .key.correct {
            background: rgba(0, 255, 136, 0.3);
            border-color: #00ff88;
        }

        .key.incorrect {
            background: rgba(255, 68, 68, 0.3);
            border-color: #ff4444;
        }

        /* –ò–ù–§–û–†–ú–ê–¶–ò–Ø –û –°–õ–û–í–ï - –£–í–ï–õ–ò–ß–ò–í–ê–ï–ú –í–û–ü–†–û–° */
        .word-info {
            text-align: center;
            margin: 20px 0;
            padding: 20px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            border: 2px solid rgba(255, 170, 0, 0.3);
        }

        .category {
            color: #00b4db;
            font-size: 1.3em; /* –£–≤–µ–ª–∏—á–∏–ª–∏ —à—Ä–∏—Ñ—Ç –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ */
            font-weight: bold;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        /* –í–û–ü–†–û–°/–ü–û–î–°–ö–ê–ó–ö–ê - –î–ï–õ–ê–ï–ú –ö–†–£–ü–ù–ï–ï */
        .hint {
            color: #ffaa00;
            font-size: 1.4em; /* –£–≤–µ–ª–∏—á–∏–ª–∏ —Å 0.95em */
            font-weight: 600; /* –°–¥–µ–ª–∞–ª–∏ –∂–∏—Ä–Ω–µ–µ */
            line-height: 1.5;
            padding: 15px;
            background: rgba(255, 170, 0, 0.1);
            border-radius: 10px;
            border-left: 4px solid #ffaa00;
            margin-top: 10px;
            text-align: center;
        }

        .hint-icon {
            font-size: 1.2em;
            margin-right: 8px;
        }

        /* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å */
        @media (max-width: 768px) {
            .keyboard {
                grid-template-columns: repeat(7, 1fr);
            }
            .team-info-compact {
                font-size: 1.5em;
                flex-direction: column;
                gap: 8px;
            }
            .team-info-compact .team-icon-large {
                font-size: 1.5em;
            }
            .team-info-compact .team-name-large {
                font-size: 1.5em;
            }
            .word-display {
                font-size: 2.2em;
                letter-spacing: 10px;
                padding: 15px;
                min-height: 70px;
            }
            .letter {
                width: 40px;
                height: 55px;
                line-height: 55px;
                margin: 0 3px;
                border-bottom-width: 3px;
            }
            .letter.space {
                width: 15px;
            }
            .header h1 {
                font-size: 2em;
                flex-direction: column;
                gap: 8px;
            }
            .hint {
                font-size: 1.2em; /* –£–º–µ–Ω—å—à–∞–µ–º –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö, –Ω–æ –≤—Å–µ —Ä–∞–≤–Ω–æ –±–æ–ª—å—à–µ */
                padding: 12px;
            }
            .category {
                font-size: 1.1em;
            }
        }

        @media (max-width: 480px) {
            .keyboard {
                grid-template-columns: repeat(5, 1fr);
            }
            .word-display {
                font-size: 1.8em;
                letter-spacing: 8px;
                padding: 12px;
                min-height: 60px;
            }
            .letter {
                width: 30px;
                height: 45px;
                line-height: 45px;
                margin: 0 2px;
            }
            .hint {
                font-size: 1.1em;
                padding: 10px;
            }
        }

        @keyframes scoreUpdate {
            0% { transform: scale(1); }
            50% { transform: scale(1.2); }
            100% { transform: scale(1); }
        }

        .score-update {
            animation: scoreUpdate 0.3s ease-in-out;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- –®–∞–ø–∫–∞ -->
        <div class="header">
            <h1><span class="emoji-icon">üî§</span> –≠–Ω–µ—Ä–≥–µ—Ç–∏—á–µ—Å–∫–∏–π —à–∏—Ñ—Ä</h1>
            <p>–£–≥–∞–¥–∞–π—Ç–µ —Å–ª–æ–≤–æ –ø–æ –±—É–∫–≤–∞–º!</p>
            <button class="btn btn-secondary" onclick="window.location.href='index.html'">‚Üê –ù–∞ –≥–ª–∞–≤–Ω—É—é</button>
        </div>

        <!-- –û—Å–Ω–æ–≤–Ω–∞—è –∏–≥—Ä–∞ -->
        <div class="game-screen" id="gameScreen">
            <!-- –¢–µ–∫—É—â–∞—è –∫–æ–º–∞–Ω–¥–∞ -->
            <div class="current-team-display" id="currentTeamDisplay">
                <div class="team-info-compact">
                    <span class="team-indicator">–û–¢–í–ï–ß–ê–ï–¢:</span>
                    <span class="team-icon-large" id="currentTeamIcon">‚öõÔ∏è</span>
                    <span class="team-name-large" id="currentTeamName">–†–µ–∞–∫—Ç–æ—Ä</span>
                </div>
            </div>

            <!-- –¢–∞–±–ª–æ —Å –æ—á–∫–∞–º–∏ -->
            <div class="score-board" id="scoreBoard"></div>

            <!-- –¶–µ–ø—å —Å –ª–∞–º–ø–æ—á–∫–∞–º–∏ -->
            <div class="circuit-container">
                <h3>‚ö° –≠–Ω–µ—Ä–≥–µ—Ç–∏—á–µ—Å–∫–∞—è —Ü–µ–ø—å</h3>
                <div class="circuit" id="circuit">
                    <!-- –õ–∞–º–ø–æ—á–∫–∏ –±—É–¥—É—Ç —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω—ã –∑–¥–µ—Å—å -->
                </div>
                <div id="attemptsInfo">–û—Å—Ç–∞–ª–æ—Å—å –ø–æ–ø—ã—Ç–æ–∫: 5</div>
            </div>

            <!-- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å–ª–æ–≤–∞ -->
            <div class="word-display" id="wordDisplay"></div>

            <!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–ª–æ–≤–µ –° –£–í–ï–õ–ò–ß–ï–ù–ù–´–ú –í–û–ü–†–û–°–û–ú -->
            <div class="word-info" id="wordInfo">
                <div class="category" id="wordCategory">‚ö° –û–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ</div>
                <div class="hint">
                    <span class="hint-icon">üí°</span>
                    <span id="wordHint">–£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è –Ω–∞–ø—Ä—è–∂–µ–Ω–∏—è —Ç–æ–∫–∞</span>
                </div>
            </div>

            <!-- –ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞ -->
            <div class="keyboard" id="keyboard">
                <!-- –ö–ª–∞–≤–∏—à–∏ –±—É–¥—É—Ç —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω—ã –∑–¥–µ—Å—å -->
            </div>

            <!-- –ö–Ω–æ–ø–∫–∞ —Å–ª–µ–¥—É—é—â–µ–≥–æ —Å–ª–æ–≤–∞ -->
            <div style="text-align: center; margin-top: 20px;">
                <button class="btn btn-secondary" id="nextWordBtn" onclick="nextWord()" style="display: none;">‚û°Ô∏è –°–ª–µ–¥—É—é—â–µ–µ —Å–ª–æ–≤–æ</button>
            </div>
        </div>

        <!-- –°–æ–æ–±—â–µ–Ω–∏–µ –µ—Å–ª–∏ –∫–æ–º–∞–Ω–¥—ã –Ω–µ –≤—ã–±—Ä–∞–Ω—ã -->
        <div class="content-section" id="noTeamsMessage" style="display: none;">
            <h2>–ö–æ–º–∞–Ω–¥—ã –Ω–µ –≤—ã–±—Ä–∞–Ω—ã!</h2>
            <p>–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–µ—Ä–Ω–∏—Ç–µ—Å—å –Ω–∞ –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É –∏ –≤—ã–±–µ—Ä–∏—Ç–µ –∫–æ–º–∞–Ω–¥—ã.</p>
            <button class="btn btn-secondary" onclick="window.location.href='index.html'">üéØ –í—ã–±—Ä–∞—Ç—å –∫–æ–º–∞–Ω–¥—ã</button>
        </div>
    </div>

    <script>
        // –°–ª–æ–≤–∞ –¥–ª—è —É–≥–∞–¥—ã–≤–∞–Ω–∏—è
        const words = [
            {
                word: "–¢–†–ê–ù–°–§–û–†–ú–ê–¢–û–†",
                category: "‚ö° –û–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ",
                hint: "–£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è –Ω–∞–ø—Ä—è–∂–µ–Ω–∏—è —Ç–æ–∫–∞"
            },
            {
                word: "–ì–ï–ù–ï–†–ê–¢–û–†",
                category: "‚ö° –û–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ", 
                hint: "–ü—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç –º–µ—Ö–∞–Ω–∏—á–µ—Å–∫—É—é —ç–Ω–µ—Ä–≥–∏—é –≤ —ç–ª–µ–∫—Ç—Ä–∏—á–µ—Å–∫—É—é"
            },
            {
                word: "–ò–ó–û–õ–Ø–¶–ò–Ø",
                category: "üîå –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å",
                hint: "–ó–∞—â–∏—Ç–∞ –æ—Ç –ø–æ—Ä–∞–∂–µ–Ω–∏—è —ç–ª–µ–∫—Ç—Ä–∏—á–µ—Å–∫–∏–º —Ç–æ–∫–æ–º"
            },
            {
                word: "–ü–†–û–í–û–î–ù–ò–ö",
                category: "üîå –ú–∞—Ç–µ—Ä–∏–∞–ª—ã",
                hint: "–ú–∞—Ç–µ—Ä–∏–∞–ª, —Ö–æ—Ä–æ—à–æ –ø—Ä–æ–≤–æ–¥—è—â–∏–π —ç–ª–µ–∫—Ç—Ä–∏—á–µ—Å–∫–∏–π —Ç–æ–∫"
            },
            {
                word: "–î–ò–≠–õ–ï–ö–¢–†–ò–ö",
                category: "üîå –ú–∞—Ç–µ—Ä–∏–∞–ª—ã",
                hint: "–ú–∞—Ç–µ—Ä–∏–∞–ª, –Ω–µ –ø—Ä–æ–≤–æ–¥—è—â–∏–π —ç–ª–µ–∫—Ç—Ä–∏—á–µ—Å–∫–∏–π —Ç–æ–∫"
            },
            {
                word: "–ù–ê–ü–†–Ø–ñ–ï–ù–ò–ï",
                category: "üìä –ü–∞—Ä–∞–º–µ—Ç—Ä—ã",
                hint: "–†–∞–∑–Ω–æ—Å—Ç—å —ç–ª–µ–∫—Ç—Ä–∏—á–µ—Å–∫–∏—Ö –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª–æ–≤"
            },
            {
                word: "–°–û–ü–†–û–¢–ò–í–õ–ï–ù–ò–ï",
                category: "üìä –ü–∞—Ä–∞–º–µ—Ç—Ä—ã",
                hint: "–ü—Ä–µ–ø—è—Ç—Å—Ç–≤—É–µ—Ç –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—é —Ç–æ–∫–∞"
            },
            {
                word: "–ó–ê–ó–ï–ú–õ–ï–ù–ò–ï",
                category: "üîå –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å",
                hint: "–ó–∞—â–∏—Ç–Ω–æ–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —Å –∑–µ–º–ª–µ–π"
            },
            {
                word: "–í–´–ö–õ–Æ–ß–ê–¢–ï–õ–¨",
                category: "‚ö° –û–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ",
                hint: "–£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –¥–ª—è —Ä–∞–∑–º—ã–∫–∞–Ω–∏—è —Ü–µ–ø–∏"
            },
            {
                word: "–°–¢–ê–ù–¶–ò–Ø",
                category: "üè≠ –û–±—ä–µ–∫—Ç—ã",
                hint: "–ú–µ—Å—Ç–æ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞ —ç–ª–µ–∫—Ç—Ä–æ—ç–Ω–µ—Ä–≥–∏–∏"
            },
            {
                word: "–≠–ù–ï–†–ì–ï–¢–ò–ö",
                category: "üë®‚Äçüíº –ü—Ä–æ—Ñ–µ—Å—Å–∏–∏",
                hint: "–°–ø–µ—Ü–∏–∞–ª–∏—Å—Ç –≤ –æ–±–ª–∞—Å—Ç–∏ —ç–Ω–µ—Ä–≥–µ—Ç–∏–∫–∏"
            },
            {
                word: "–ú–û–ù–¢–ê–ñ–ù–ò–ö",
                category: "üë®‚Äçüíº –ü—Ä–æ—Ñ–µ—Å—Å–∏–∏",
                hint: "–°–ø–µ—Ü–∏–∞–ª–∏—Å—Ç –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è"
            }
        ];

        // –ó–∞–≥—Ä—É–∂–∞–µ–º –∫–æ–º–∞–Ω–¥—ã –∏–∑ localStorage
        function loadTeams() {
            const savedTeams = localStorage.getItem('energyTeams');
            return savedTeams ? JSON.parse(savedTeams) : null;
        }

        let currentTeams = [];
        let currentTeamIndex = 0;
        let currentWordIndex = 0;
        let scores = {};
        let usedLetters = [];
        let wrongAttempts = 0;
        const maxAttempts = 5;

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∏–≥—Ä—ã
        function initializeGame() {
            const loadedTeams = loadTeams();
            
            if (!loadedTeams || loadedTeams.length === 0) {
                document.getElementById('noTeamsMessage').style.display = 'block';
                document.getElementById('gameScreen').style.display = 'none';
                return;
            }

            currentTeams = loadedTeams;
            document.getElementById('noTeamsMessage').style.display = 'none';
            document.getElementById('gameScreen').style.display = 'block';
            
            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º —Å—á–µ—Ç—á–∏–∫–∏
            scores = {};
            currentTeams.forEach(team => {
                scores[team.name] = 0;
            });

            initializeScoreBoard();
            startNewWord();
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Ç–∞–±–ª–æ
        function initializeScoreBoard() {
            const scoreBoard = document.getElementById('scoreBoard');
            scoreBoard.innerHTML = '';

            currentTeams.forEach(team => {
                const scoreElement = document.createElement('div');
                scoreElement.className = 'team-score';
                scoreElement.style.borderColor = team.color;
                scoreElement.id = `score-${team.name}`;
                
                scoreElement.innerHTML = `
                    <div class="team-score-info">
                        <span class="team-icon">${team.icon}</span>
                        <span class="team-name">${team.name}</span>
                    </div>
                    <div class="team-stats">
                        <span class="team-points">${scores[team.name]}</span>
                    </div>
                `;
                scoreBoard.appendChild(scoreElement);
            });
        }

        // –ù–∞—á–∞—Ç—å –Ω–æ–≤–æ–µ —Å–ª–æ–≤–æ
        function startNewWord() {
            if (currentWordIndex >= words.length) {
                endGame();
                return;
            }

            const currentTeam = currentTeams[currentTeamIndex];
            highlightCurrentTeam(currentTeam);

            const wordData = words[currentWordIndex];
            usedLetters = [];
            wrongAttempts = 0;

            // –û–±–Ω–æ–≤–ª—è–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å–ª–æ–≤–µ
            document.getElementById('wordCategory').textContent = wordData.category;
            document.getElementById('wordHint').textContent = wordData.hint;

            // –°–æ–∑–¥–∞–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å–ª–æ–≤–∞
            displayWord(wordData.word);
            
            // –°–æ–∑–¥–∞–µ–º –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É
            createKeyboard();
            
            // –°–æ–∑–¥–∞–µ–º —Ü–µ–ø—å —Å –ª–∞–º–ø–æ—á–∫–∞–º–∏
            createCircuit();
            
            // –°–±—Ä–∞—Å—ã–≤–∞–µ–º –∫–Ω–æ–ø–∫—É —Å–ª–µ–¥—É—é—â–µ–≥–æ —Å–ª–æ–≤–∞
            document.getElementById('nextWordBtn').style.display = 'none';
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–æ–ø—ã—Ç–∫–∞—Ö
            updateAttemptsInfo();
        }

        // –í–∏–∑—É–∞–ª—å–Ω–æ–µ –≤—ã–¥–µ–ª–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–π –∫–æ–º–∞–Ω–¥—ã
        function highlightCurrentTeam(team) {
            document.querySelectorAll('.team-score').forEach(score => {
                score.classList.remove('current-team');
            });
            
            const currentScoreElement = document.getElementById(`score-${team.name}`);
            if (currentScoreElement) {
                currentScoreElement.classList.add('current-team');
            }
            
            document.getElementById('currentTeamIcon').textContent = team.icon;
            document.getElementById('currentTeamName').textContent = team.name;
        }

        // –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å–ª–æ–≤–∞
        function displayWord(word) {
            const wordDisplay = document.getElementById('wordDisplay');
            wordDisplay.innerHTML = '';

            for (let i = 0; i < word.length; i++) {
                const letter = word[i];
                const letterElement = document.createElement('span');
                
                if (letter === ' ') {
                    letterElement.className = 'letter space';
                    letterElement.innerHTML = '&nbsp;';
                } else {
                    letterElement.className = 'letter';
                    if (usedLetters.includes(letter)) {
                        letterElement.textContent = letter;
                        letterElement.classList.add('revealed');
                    } else {
                        letterElement.textContent = '_';
                    }
                }
                
                wordDisplay.appendChild(letterElement);
            }
        }

        // –°–æ–∑–¥–∞–Ω–∏–µ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã
        function createKeyboard() {
            const keyboard = document.getElementById('keyboard');
            keyboard.innerHTML = '';

            const russianLetters = '–ê–ë–í–ì–î–ï–Å–ñ–ó–ò–ô–ö–õ–ú–ù–û–ü–†–°–¢–£–§–•–¶–ß–®–©–™–´–¨–≠–Æ–Ø';

            for (let letter of russianLetters) {
                const key = document.createElement('button');
                key.className = 'key';
                key.textContent = letter;
                key.onclick = () => checkLetter(letter);
                
                if (usedLetters.includes(letter)) {
                    key.classList.add('used');
                }
                
                keyboard.appendChild(key);
            }
        }

        // –°–æ–∑–¥–∞–Ω–∏–µ —Ü–µ–ø–∏ —Å –ª–∞–º–ø–æ—á–∫–∞–º–∏
        function createCircuit() {
            const circuit = document.getElementById('circuit');
            circuit.innerHTML = '';

            for (let i = 0; i < maxAttempts; i++) {
                if (i > 0) {
                    const wire = document.createElement('div');
                    wire.className = 'wire';
                    circuit.appendChild(wire);
                }

                const bulb = document.createElement('div');
                bulb.className = `bulb ${i < maxAttempts - wrongAttempts ? 'active' : 'burned'}`;
                bulb.textContent = 'üí°';
                circuit.appendChild(bulb);
            }
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø–æ–ø—ã—Ç–∫–∞—Ö
        function updateAttemptsInfo() {
            document.getElementById('attemptsInfo').textContent = 
                `–û—Å—Ç–∞–ª–æ—Å—å –ø–æ–ø—ã—Ç–æ–∫: ${maxAttempts - wrongAttempts}`;
        }






      // –ü—Ä–æ–≤–µ—Ä–∫–∞ –±—É–∫–≤—ã
function checkLetter(letter) {
    if (usedLetters.includes(letter)) return;

    usedLetters.push(letter);
    const wordData = words[currentWordIndex];
    const currentTeam = currentTeams[currentTeamIndex];

    // –û–±–Ω–æ–≤–ª—è–µ–º –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É
    const key = Array.from(document.querySelectorAll('.key'))
        .find(k => k.textContent === letter);
    
    if (wordData.word.includes(letter)) {
        // –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –±—É–∫–≤–∞
        key.classList.add('correct', 'used');
        displayWord(wordData.word);
        
        // –ü—Ä–æ–≤–µ—Ä—è–µ–º, —É–≥–∞–¥–∞–Ω–æ –ª–∏ –≤—Å—ë —Å–ª–æ–≤–æ
        if (isWordGuessed(wordData.word)) {
            // –ù–∞—á–∏—Å–ª—è–µ–º –æ—á–∫–∏ –ø–æ –Ω–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–µ
            let points;
            if (wrongAttempts === 0) {
                points = 3;       // –£–≥–∞–¥–∞–ª –±–µ–∑ –æ—à–∏–±–æ–∫
            } else if (wrongAttempts === 1) {
                points = 2;       // 1 –æ—à–∏–±–∫–∞
            } else {
                points = 1;       // 2 –∏ –±–æ–ª–µ–µ –æ—à–∏–±–æ–∫
            }
            
            scores[currentTeam.name] += points;
            updateScore(currentTeam.name);
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –æ –±–∞–ª–ª–∞—Ö
            showPointsMessage(points, wrongAttempts);
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∫–Ω–æ–ø–∫—É —Å–ª–µ–¥—É—é—â–µ–≥–æ —Å–ª–æ–≤–∞
            document.getElementById('nextWordBtn').style.display = 'block';
        }
    } else {
        // –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –±—É–∫–≤–∞
        key.classList.add('incorrect', 'used');
        wrongAttempts++;
        createCircuit();
        updateAttemptsInfo();
        
        // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –∑–∞–∫–æ–Ω—á–∏–ª–∏—Å—å –ª–∏ –ø–æ–ø—ã—Ç–∫–∏
        if (wrongAttempts >= maxAttempts) {
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∑–∞–≥–∞–¥–∞–Ω–Ω–æ–µ —Å–ª–æ–≤–æ
            revealWord(wordData.word);
            
            // –°–æ–æ–±—â–µ–Ω–∏–µ –æ –ø—Ä–æ–≤–∞–ª–µ
            showFailMessage();
            
            document.getElementById('nextWordBtn').style.display = 'block';
        }
    }
}

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–∫–∞–∑–∞ —Å–æ–æ–±—â–µ–Ω–∏—è –æ –±–∞–ª–ª–∞—Ö
function showPointsMessage(points, attempts) {
    const messageContainer = document.createElement('div');
    messageContainer.style.cssText = `
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
        padding: 25px;
        border-radius: 20px;
        border: 3px solid #FFD700;
        text-align: center;
        z-index: 1000;
        box-shadow: 0 10px 30px rgba(255, 215, 0, 0.3);
        animation: fadeIn 0.5s ease;
    `;
    
    let message = '';
    if (attempts === 0) {
        message = `üéØ –ò–î–ï–ê–õ–¨–ù–û! +3 –±–∞–ª–ª–∞<br>–£–≥–∞–¥–∞–ª–∏ –±–µ–∑ –µ–¥–∏–Ω–æ–π –æ—à–∏–±–∫–∏!`;
    } else if (attempts === 1) {
        message = `üëç –û–¢–õ–ò–ß–ù–û! +2 –±–∞–ª–ª–∞<br>–í—Å–µ–≥–æ –æ–¥–Ω–∞ –æ—à–∏–±–∫–∞!`;
    } else {
        message = `üëè –•–û–†–û–®–û! +1 –±–∞–ª–ª<br>–£–≥–∞–¥–∞–ª–∏ —Å ${attempts} –æ—à–∏–±–∫–∞–º–∏`;
    }
    
    messageContainer.innerHTML = `
        <div style="font-size: 1.5em; color: #FFD700; margin-bottom: 15px;">
            ${message}
        </div>
        <div style="font-size: 1.2em; color: #00ff88; margin-bottom: 20px;">
            –ö–æ–º–∞–Ω–¥–∞ "${currentTeams[currentTeamIndex].name}" –ø–æ–ª—É—á–∞–µ—Ç ${points} –±–∞–ª–ª${points > 1 ? '–∞' : ''}!
        </div>
        <button onclick="this.parentElement.remove()" 
                style="
                    padding: 10px 25px;
                    background: linear-gradient(45deg, #00b4db, #0083b0);
                    color: white;
                    border: none;
                    border-radius: 15px;
                    font-size: 1em;
                    font-weight: bold;
                    cursor: pointer;
                ">
            –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å
        </button>
    `;
    
    document.body.appendChild(messageContainer);
    
    // –ê–≤—Ç–æ—É–¥–∞–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ 3 —Å–µ–∫—É–Ω–¥—ã
    setTimeout(() => {
        if (messageContainer.parentElement) {
            messageContainer.remove();
        }
    }, 3000);
}

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–∫–∞–∑–∞ —Å–æ–æ–±—â–µ–Ω–∏—è –æ –ø—Ä–æ–≤–∞–ª–µ
function showFailMessage() {
    const messageContainer = document.createElement('div');
    messageContainer.style.cssText = `
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
        padding: 25px;
        border-radius: 20px;
        border: 3px solid #ff4444;
        text-align: center;
        z-index: 1000;
        box-shadow: 0 10px 30px rgba(255, 68, 68, 0.3);
        animation: fadeIn 0.5s ease;
    `;
    
    messageContainer.innerHTML = `
        <div style="font-size: 1.5em; color: #ff4444; margin-bottom: 15px;">
            ‚ùå –ó–ê–ö–û–ù–ß–ò–õ–ò–°–¨ –ü–û–ü–´–¢–ö–ò!
        </div>
        <div style="font-size: 1.2em; color: #ffaa00; margin-bottom: 20px;">
            –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç –ø–æ–∫–∞–∑–∞–Ω –Ω–∞ —ç–∫—Ä–∞–Ω–µ<br>
            –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –≤ —Å–ª–µ–¥—É—é—â–µ–º —Å–ª–æ–≤–µ!
        </div>
        <button onclick="this.parentElement.remove()" 
                style="
                    padding: 10px 25px;
                    background: linear-gradient(45deg, #00b4db, #0083b0);
                    color: white;
                    border: none;
                    border-radius: 15px;
                    font-size: 1em;
                    font-weight: bold;
                    cursor: pointer;
                ">
            –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å
        </button>
    `;
    
    document.body.appendChild(messageContainer);
    
    // –ê–≤—Ç–æ—É–¥–∞–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ 3 —Å–µ–∫—É–Ω–¥—ã
    setTimeout(() => {
        if (messageContainer.parentElement) {
            messageContainer.remove();
        }
    }, 3000);
}
        // –ü—Ä–æ–≤–µ—Ä–∫–∞, —É–≥–∞–¥–∞–Ω–æ –ª–∏ –≤—Å—ë —Å–ª–æ–≤–æ
        function isWordGuessed(word) {
            for (let letter of word) {
                if (letter !== ' ' && !usedLetters.includes(letter)) {
                    return false;
                }
            }
            return true;
        }

        // –ü–æ–∫–∞–∑–∞—Ç—å –∑–∞–≥–∞–¥–∞–Ω–Ω–æ–µ —Å–ª–æ–≤–æ
        function revealWord(word) {
            const wordDisplay = document.getElementById('wordDisplay');
            wordDisplay.innerHTML = '';
            
            for (let i = 0; i < word.length; i++) {
                const letter = word[i];
                const letterElement = document.createElement('span');
                
                if (letter === ' ') {
                    letterElement.className = 'letter space';
                    letterElement.innerHTML = '&nbsp;';
                } else {
                    letterElement.className = 'letter';
                    letterElement.textContent = letter;
                    letterElement.style.color = '#ff4444';
                }
                
                wordDisplay.appendChild(letterElement);
            }
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—á–µ—Ç–∞
        function updateScore(teamName) {
            const scoreElement = document.getElementById(`score-${teamName}`);
            const points = scores[teamName];
            
            scoreElement.innerHTML = `
                <div class="team-score-info">
                    <span class="team-icon">${currentTeams.find(t => t.name === teamName).icon}</span>
                    <span class="team-name">${teamName}</span>
                </div>
                <div class="team-stats">
                    <span class="team-points">${points}</span>
                </div>
            `;
            
            scoreElement.classList.add('score-update');
            setTimeout(() => scoreElement.classList.remove('score-update'), 300);
        }

        // –°–ª–µ–¥—É—é—â–µ–µ —Å–ª–æ–≤–æ
        function nextWord() {
            currentWordIndex++;
            currentTeamIndex = (currentTeamIndex + 1) % currentTeams.length;
            startNewWord();
        }

        // –ö–æ–Ω–µ—Ü –∏–≥—Ä—ã
        function endGame() {
            let winners = [];
            let maxScore = 0;
            
            currentTeams.forEach(team => {
                if (scores[team.name] > maxScore) {
                    maxScore = scores[team.name];
                    winners = [team];
                } else if (scores[team.name] === maxScore) {
                    winners.push(team);
                }
            });

            const finalScreen = document.createElement('div');
            finalScreen.style.cssText = `
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: rgba(0, 0, 0, 0.9);
                display: flex;
                justify-content: center;
                align-items: center;
                z-index: 1000;
            `;

            let winnerText;
            if (winners.length === 1) {
                winnerText = `üéâ –ü–û–ë–ï–î–ò–¢–ï–õ–¨!<br>–ö–æ–º–∞–Ω–¥–∞ ${winners[0].icon} ${winners[0].name}<br>${maxScore} –æ—á–∫–æ–≤`;
            } else {
                const winnerNames = winners.map(w => `${w.icon} ${w.name}`).join('<br>');
                winnerText = `üéâ –ù–ò–ß–¨–Ø!<br>${winnerNames}<br>${maxScore} –æ—á–∫–æ–≤`;
            }

            finalScreen.innerHTML = `
                <div style="
                    background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
                    padding: 40px;
                    border-radius: 20px;
                    border: 3px solid #FFD700;
                    text-align: center;
                    max-width: 500px;
                    width: 90%;
                ">
                    <h2 style="color: #FFD700; margin-bottom: 30px; font-size: 2em;">–†–ï–ó–£–õ–¨–¢–ê–¢–´ –ò–ì–†–´</h2>
                    <div style="font-size: 1.5em; margin-bottom: 30px; line-height: 1.5;">
                        ${winnerText}
                    </div>
                    <div style="margin-bottom: 30px;">
                        <h3 style="color: #00b4db; margin-bottom: 15px;">–ò—Ç–æ–≥–æ–≤—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã:</h3>
                        ${currentTeams.map(team => `
                            <div style="display: flex; justify-content: space-between; margin: 10px 0; font-size: 1.2em;">
                                <span>${team.icon} ${team.name}</span>
                                <span style="color: #00ff88;">${scores[team.name]} –æ—á–∫–æ–≤</span>
                            </div>
                        `).join('')}
                    </div>
                    <div style="display: flex; gap: 15px; justify-content: center; flex-wrap: wrap;">
                        <button onclick="this.parentElement.parentElement.remove(); location.reload()" 
                                style="
                                    padding: 15px 30px;
                                    background: linear-gradient(45deg, #00b4db, #0083b0);
                                    color: white;
                                    border: none;
                                    border-radius: 25px;
                                    font-size: 1.1em;
                                    font-weight: bold;
                                    cursor: pointer;
                                ">
                            üéÆ –ù–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ
                        </button>
                        <button onclick="window.location.href='index.html'" 
                                style="
                                    padding: 15px 30px;
                                    background: linear-gradient(45deg, #00ff88, #00cc66);
                                    color: white;
                                    border: none;
                                    border-radius: 25px;
                                    font-size: 1.1em;
                                    font-weight: bold;
                                    cursor: pointer;
                                ">
                            üè† –ù–∞ –≥–ª–∞–≤–Ω—É—é
                        </button>
                    </div>
                </div>
            `;

            document.body.appendChild(finalScreen);
        }

        // –ó–∞–ø—É—Å–∫ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        window.onload = initializeGame;
    </script>
</body>
</html>