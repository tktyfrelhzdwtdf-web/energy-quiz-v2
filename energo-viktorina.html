<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–≠–Ω–µ—Ä–≥–æ–ö–≤–∏–∑: –í–∏–∫—Ç–æ—Ä–∏–Ω–∞</title>
 <style>
    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
    }

    body {
        font-family: 'Arial', sans-serif;
        background: linear-gradient(135deg, #0c0c0c 0%, #1a1a2e 50%, #16213e 100%);
        color: #fff;
        min-height: 100vh;
        overflow-x: hidden;
    }

    .container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 20px;
    }

    .main-header {
        text-align: center;
        margin-bottom: 20px;
        padding: 20px;
        background: rgba(255, 255, 255, 0.1);
        border-radius: 20px;
    }

    .main-header h1 {
        font-size: 2.5em;
        margin-bottom: 10px;
        background: linear-gradient(45deg, #00b4db, #0083b0);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
    }

    .main-header p {
        color: #fff;
        font-size: 1.2em;
        margin-bottom: 15px;
    }

    .btn {
        padding: 12px 30px;
        border: none;
        border-radius: 25px;
        font-size: 1.1em;
        font-weight: bold;
        cursor: pointer;
        transition: all 0.3s ease;
        margin: 5px;
    }

    .btn-primary {
        background: linear-gradient(45deg, #00b4db, #0083b0);
        color: white;
    }

    .btn-secondary {
        background: linear-gradient(45deg, #00ff88, #00cc66);
        color: white;
    }

    .btn:hover {
        transform: scale(1.05);
        box-shadow: 0 5px 20px rgba(0, 180, 219, 0.4);
    }

    .game-screen {
        display: none;
    }

    .content-section {
        background: rgba(255, 255, 255, 0.1);
        padding: 30px;
        border-radius: 20px;
        margin-bottom: 30px;
        text-align: center;
        color: #fff;
    }

    .content-section h2 {
        color: #00b4db;
        margin-bottom: 15px;
    }

    .current-team-display {
        text-align: center;
        margin: 20px 0;
        padding: 20px;
        background: rgba(255, 215, 0, 0.1);
        border-radius: 20px;
        border: 3px solid #FFD700;
        color: #fff;
    }

    .turn-indicator {
        color: #FFD700;
        font-weight: bold;
        font-size: 1.5em;
        margin-bottom: 15px;
    }

    .team-card-large {
        display: inline-block;
        padding: 20px 40px;
    }

    .team-icon-large {
        font-size: 4em;
        margin-bottom: 10px;
    }

    .team-name-large {
        font-size: 2.5em;
        font-weight: bold;
        color: #FFD700;
    }

    .score-board {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 15px;
        margin-bottom: 30px;
    }

    .team-score {
        background: rgba(255, 255, 255, 0.1);
        padding: 20px;
        border-radius: 15px;
        border: 3px solid;
        display: flex;
        align-items: center;
        justify-content: space-between;
        font-size: 1.2em;
        transition: all 0.3s ease;
        color: #fff;
    }

    .team-score.current-team {
        border: 4px solid #FFD700 !important;
        box-shadow: 0 0 30px rgba(255, 215, 0, 0.7) !important;
        transform: scale(1.05);
        background: rgba(255, 215, 0, 0.1) !important;
    }

    @keyframes gentlePulse {
        0% { box-shadow: 0 0 20px rgba(255, 215, 0, 0.5); }
        50% { box-shadow: 0 0 40px rgba(255, 215, 0, 0.8); }
        100% { box-shadow: 0 0 20px rgba(255, 215, 0, 0.5); }
    }

    .current-team {
        animation: gentlePulse 2s infinite;
    }

    .team-score-info {
        display: flex;
        align-items: center;
        gap: 15px;
    }

    .team-stats {
        text-align: right;
    }

    .team-points {
        font-size: 2em;
        font-weight: bold;
        color: #00ff88;
        display: block;
    }

    .progress-bar {
        width: 100px;
        height: 8px;
        background: #333;
        border-radius: 4px;
        margin-top: 5px;
        overflow: hidden;
    }

    .progress {
        height: 100%;
        background: #00ff88;
        transition: width 0.3s ease;
    }

    .timer-container {
        text-align: center;
        margin: 30px 0;
    }

    .timer-circle {
        width: 120px;
        height: 120px;
        border: 5px solid #00b4db;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        margin: 0 auto 20px;
        position: relative;
    }

    .timer-seconds {
        font-size: 3em;
        font-weight: bold;
        color: #fff;
    }

    .timer-progress {
        width: 300px;
        height: 10px;
        background: #333;
        border-radius: 5px;
        margin: 0 auto;
        overflow: hidden;
    }

    .timer-bar {
        height: 100%;
        background: linear-gradient(90deg, #00ff88, #00b4db);
        width: 100%;
        transition: width 1s linear;
    }

    .question-container {
        background: rgba(255, 255, 255, 0.1);
        padding: 30px;
        border-radius: 20px;
        margin-bottom: 30px;
        text-align: center;
        color: #fff;
    }

    .question-number {
        color: #00b4db;
        font-size: 1.2em;
        margin-bottom: 10px;
    }

    .question-text {
        font-size: 1.8em;
        margin-bottom: 30px;
        line-height: 1.4;
        color: #fff;
    }

    .answers-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 15px;
    }

    .answer-btn {
        padding: 20px;
        background: rgba(255, 255, 255, 0.1);
        border: 2px solid #333;
        border-radius: 15px;
        color: white;
        font-size: 1.2em;
        cursor: pointer;
        transition: all 0.3s ease;
    }

    .answer-btn:hover {
        border-color: #00b4db;
        transform: translateY(-2px);
    }

    .answer-btn.correct {
        background: rgba(0, 255, 136, 0.2);
        border-color: #00ff88;
    }

    .answer-btn.incorrect {
        background: rgba(255, 68, 68, 0.2);
        border-color: #ff4444;
    }

    .fact-container {
        background: rgba(255, 255, 255, 0.1);
        padding: 25px;
        border-radius: 15px;
        margin: 20px 0;
        border-left: 5px solid #00b4db;
        color: #fff;
    }

    .fact-title {
        color: #00b4db;
        font-size: 1.3em;
        margin-bottom: 10px;
    }

    .fact-text {
        color: #fff;
        line-height: 1.5;
    }

    @media (max-width: 768px) {
        .team-icon-large {
            font-size: 3em;
        }
        .team-name-large {
            font-size: 2em;
        }
        .answers-grid {
            grid-template-columns: 1fr;
        }
        .timer-progress {
            width: 200px;
        }
    }

    @keyframes scoreUpdate {
        0% { transform: scale(1); }
        50% { transform: scale(1.2); }
        100% { transform: scale(1); }
    }

    .score-update {
        animation: scoreUpdate 0.3s ease-in-out;
    }
</style>

</head>
<body>
    <div class="container">
        <div class="main-header">
            <h1>–≠–Ω–µ—Ä–≥–æ–í–∏–∫—Ç–æ—Ä–∏–Ω–∞</h1>
            <p>–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–≤–æ–∏ –∑–Ω–∞–Ω–∏—è –æ–± —ç–Ω–µ—Ä–≥–µ—Ç–∏–∫–µ!</p>
            <button class="btn btn-secondary" onclick="window.location.href='index.html'">‚Üê –ù–∞ –≥–ª–∞–≤–Ω—É—é</button>
        </div>

        <div class="game-screen" id="gameScreen">
            <div class="current-team-display" id="currentTeamDisplay">
                <div class="turn-indicator">–°–ï–ô–ß–ê–° –û–¢–í–ï–ß–ê–ï–¢</div>
                <div class="team-card-large">
                    <div class="team-icon-large" id="currentTeamIcon">‚öõÔ∏è</div>
                    <div class="team-name-large" id="currentTeamName">–†–µ–∞–∫—Ç–æ—Ä</div>
                </div>
            </div>

            <div class="score-board" id="scoreBoard"></div>

            <div class="timer-container">
                <div class="timer-circle">
                    <span class="timer-seconds" id="timer">15</span>
                </div>
                <div class="timer-progress">
                    <div class="timer-bar" id="timerBar"></div>
                </div>
            </div>

            <div class="question-container">
                <div class="question-number" id="questionNumber">–í–æ–ø—Ä–æ—Å 1 –∏–∑ 16</div>
                <div class="question-text" id="questionText"></div>
                <div class="answers-grid" id="answersGrid"></div>
            </div>

            <div class="fact-container" id="factContainer" style="display: none;">
                <div class="fact-title">üí° –ò–Ω—Ç–µ—Ä–µ—Å–Ω—ã–π —Ñ–∞–∫—Ç:</div>
                <div class="fact-text" id="factText"></div>
            </div>

            <div style="text-align: center;">
                <button class="btn btn-primary" id="nextBtn" onclick="nextQuestion()" style="display: none;">‚û°Ô∏è –°–ª–µ–¥—É—é—â–∏–π –≤–æ–ø—Ä–æ—Å</button>
            </div>
        </div>

        <div class="content-section" id="noTeamsMessage" style="display: none;">
            <h2>–ö–æ–º–∞–Ω–¥—ã –Ω–µ –≤—ã–±—Ä–∞–Ω—ã!</h2>
            <p>–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–µ—Ä–Ω–∏—Ç–µ—Å—å –Ω–∞ –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É –∏ –≤—ã–±–µ—Ä–∏—Ç–µ –∫–æ–º–∞–Ω–¥—ã.</p>
            <button class="btn btn-secondary" onclick="window.location.href='index.html'">üéØ –í—ã–±—Ä–∞—Ç—å –∫–æ–º–∞–Ω–¥—ã</button>
        </div>
    </div>

    <script>
        // –ó–∞–≥—Ä—É–∂–∞–µ–º –∫–æ–º–∞–Ω–¥—ã –∏–∑ localStorage
        function loadTeams() {
            const savedTeams = localStorage.getItem('energyTeams');
            return savedTeams ? JSON.parse(savedTeams) : null;
        }

        // –î–∞–Ω–Ω—ã–µ –≤–∏–∫—Ç–æ—Ä–∏–Ω—ã (16 –≤–æ–ø—Ä–æ—Å–æ–≤)
        const quizData = [
            {
                question: "–°–∞–º–∞—è –∫—Ä—É–ø–Ω–∞—è –ê–≠–° –≤ –†–æ—Å—Å–∏–∏?",
                answers: ["–ë–∞–ª–∞–∫–æ–≤—Å–∫–∞—è –ê–≠–°", "–õ–µ–Ω–∏–Ω–≥—Ä–∞–¥—Å–∫–∞—è –ê–≠–°", "–ö–∞–ª–∏–Ω–∏–Ω—Å–∫–∞—è –ê–≠–°", "–†–æ—Å—Ç–æ–≤—Å–∫–∞—è –ê–≠–°"],
                correct: 0,
                fact: "–ë–∞–ª–∞–∫–æ–≤—Å–∫–∞—è –ê–≠–° - –∫—Ä—É–ø–Ω–µ–π—à–∞—è –≤ –†–æ—Å—Å–∏–∏, –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç 30% —ç–ª–µ–∫—Ç—Ä–æ—ç–Ω–µ—Ä–≥–∏–∏ –ü–æ–≤–æ–ª–∂—å—è!"
            },
            {
                question: "–í –∫–∞–∫–æ–º –≥–æ—Ä–æ–¥–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –ö–∞–ª–∏–Ω–∏–Ω—Å–∫–∞—è –ê–≠–°?",
                answers: ["–£–¥–æ–º–ª—è", "–ö–∞–ª–∏–Ω–∏–Ω–≥—Ä–∞–¥", "–¢–≤–µ—Ä—å", "–í—ã—à–Ω–∏–π –í–æ–ª–æ—á–µ–∫"],
                correct: 0,
                fact: "–ö–∞–ª–∏–Ω–∏–Ω—Å–∫–∞—è –ê–≠–° —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∞ –≤ –≥–æ—Ä–æ–¥–µ –£–¥–æ–º–ª—è –¢–≤–µ—Ä—Å–∫–æ–π –æ–±–ª–∞—Å—Ç–∏!"
            },
            {
                question: "–°–∫–æ–ª—å–∫–æ —ç–Ω–µ—Ä–≥–æ–±–ª–æ–∫–æ–≤ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –ö–∞–ª–∏–Ω–∏–Ω—Å–∫–æ–π –ê–≠–°?",
                answers: ["4 —ç–Ω–µ—Ä–≥–æ–±–ª–æ–∫–∞", "2 —ç–Ω–µ—Ä–≥–æ–±–ª–æ–∫–∞", "3 —ç–Ω–µ—Ä–≥–æ–±–ª–æ–∫–∞", "5 —ç–Ω–µ—Ä–≥–æ–±–ª–æ–∫–æ–≤"],
                correct: 0,
                fact: "–í—Å–µ 4 —ç–Ω–µ—Ä–≥–æ–±–ª–æ–∫–∞ - —ç—Ç–æ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ä–µ–∞–∫—Ç–æ—Ä—ã –í–í–≠–†-1000 –æ–±—â–µ–π –º–æ—â–Ω–æ—Å—Ç—å—é 4000 –ú–í—Ç!"
            },
            {
                question: "–ü–µ—Ä–≤—ã–π —ç–Ω–µ—Ä–≥–æ–±–ª–æ–∫ –∫–∞–∫–æ–π –ê–≠–° –¥–∞–ª —Ç–æ–∫ –≤ –°–°–°–†?",
                answers: ["–û–±–Ω–∏–Ω—Å–∫–∞—è –ê–≠–°", "–õ–µ–Ω–∏–Ω–≥—Ä–∞–¥—Å–∫–∞—è –ê–≠–°", "–ö—É—Ä—Å–∫–∞—è –ê–≠–°", "–°–º–æ–ª–µ–Ω—Å–∫–∞—è –ê–≠–°"],
                correct: 0,
                fact: "–û–±–Ω–∏–Ω—Å–∫–∞—è –ê–≠–° (1954 –≥.) - –ø–µ—Ä–≤–∞—è –≤ –º–∏—Ä–µ –ê–≠–°!"
            },
            {
                question: "–°–∞–º–∞—è —Å–µ–≤–µ—Ä–Ω–∞—è –ê–≠–° –º–∏—Ä–∞?",
                answers: ["–ë–∏–ª–∏–±–∏–Ω—Å–∫–∞—è –ê–≠–°", "–ö–æ–ª—å—Å–∫–∞—è –ê–≠–°", "–õ–µ–Ω–∏–Ω–≥—Ä–∞–¥—Å–∫–∞—è –ê–≠–°", "–ö–∞–ª–∏–Ω–∏–Ω—Å–∫–∞—è –ê–≠–°"],
                correct: 0,
                fact: "–ë–∏–ª–∏–±–∏–Ω—Å–∫–∞—è –ê–≠–° —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ —É—Å–ª–æ–≤–∏—è—Ö –≤–µ—á–Ω–æ–π –º–µ—Ä–∑–ª–æ—Ç—ã!"
            },
            {
                question: "–ö–∞–∫–∞—è –ì–≠–° —Å–∞–º–∞—è –º–æ—â–Ω–∞—è –≤ –ï–≤—Ä–æ–ø–µ?",
                answers: ["–°–∞—è–Ω–æ-–®—É—à–µ–Ω—Å–∫–∞—è", "–ö—Ä–∞—Å–Ω–æ—è—Ä—Å–∫–∞—è", "–ë—Ä–∞—Ç—Å–∫–∞—è", "–í–æ–ª–∂—Å–∫–∞—è"],
                correct: 0,
                fact: "–°–∞—è–Ω–æ-–®—É—à–µ–Ω—Å–∫–∞—è –ì–≠–° –º–æ—â–Ω–æ—Å—Ç—å—é 6400 –ú–í—Ç!"
            },
            {
                question: "–ö–∞–∫–æ–π —Ç–∏–ø —Ä–µ–∞–∫—Ç–æ—Ä–æ–≤ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –Ω–∞ –ö–∞–ª–∏–Ω–∏–Ω—Å–∫–æ–π –ê–≠–°?",
                answers: ["–í–í–≠–†-1000", "–†–ë–ú–ö-1000", "–ë–ù-800", "–≠–ì–ü-6"],
                correct: 0,
                fact: "–í–í–≠–†-1000 - –æ–¥–∏–Ω –∏–∑ —Å–∞–º—ã—Ö –±–µ–∑–æ–ø–∞—Å–Ω—ã—Ö —Ä–µ–∞–∫—Ç–æ—Ä–æ–≤ –≤ –º–∏—Ä–µ!"
            },
            {
                question: "–ì–¥–µ –≤ –†–æ—Å—Å–∏–∏ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∞ –∫—Ä—É–ø–Ω–µ–π—à–∞—è —Å–æ–ª–Ω–µ—á–Ω–∞—è —ç–ª–µ–∫—Ç—Ä–æ—Å—Ç–∞–Ω—Ü–∏—è?",
                answers: ["–†–µ—Å–ø—É–±–ª–∏–∫–∞ –ö—Ä—ã–º", "–ö—Ä–∞—Å–Ω–æ–¥–∞—Ä—Å–∫–∏–π –∫—Ä–∞–π", "–°—Ç–∞–≤—Ä–æ–ø–æ–ª—å—Å–∫–∏–π –∫—Ä–∞–π", "–ê—Å—Ç—Ä–∞—Ö–∞–Ω—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å"],
                correct: 0,
                fact: "–í –ö—Ä—ã–º—É —Ä–∞–±–æ—Ç–∞–µ—Ç –±–æ–ª–µ–µ 10 —Å–æ–ª–Ω–µ—á–Ω—ã—Ö –ø–∞—Ä–∫–æ–≤!"
            },
            {
                question: "–ö–∞–∫–æ–π –≥–æ—Ä–æ–¥ –Ω–∞–∑—ã–≤–∞—é—Ç '–∞—Ç–æ–º–≥—Ä–∞–¥–æ–º' –∫—Ä–æ–º–µ –£–¥–æ–º–ª–∏?",
                answers: ["–°–æ—Å–Ω–æ–≤—ã–π –ë–æ—Ä", "–î—É–±–Ω–∞", "–ö–∏–º—Ä—ã", "–†–∂–µ–≤"],
                correct: 0,
                fact: "–°–æ—Å–Ω–æ–≤—ã–π –ë–æ—Ä - –¥–æ–º –õ–µ–Ω–∏–Ω–≥—Ä–∞–¥—Å–∫–æ–π –ê–≠–°!"
            },
            {
                question: "–ù–∞ –∫–∞–∫–æ–π —Ä–µ–∫–µ —Å—Ç–æ–∏—Ç –†—ã–±–∏–Ω—Å–∫–∞—è –ì–≠–°?",
                answers: ["–í–æ–ª–≥–∞", "–ï–Ω–∏—Å–µ–π", "–ê–Ω–≥–∞—Ä–∞", "–õ–µ–Ω–∞"],
                correct: 0,
                fact: "–†—ã–±–∏–Ω—Å–∫–∞—è –ì–≠–° - –≤–∞–∂–Ω—ã–π —É–∑–µ–ª –í–æ–ª–∂—Å–∫–æ-–ö–∞–º—Å–∫–æ–≥–æ –∫–∞—Å–∫–∞–¥–∞!"
            },
            {
                question: "–ö–∞–∫–æ–π —Ä–µ–≥–∏–æ–Ω –ª–∏–¥–∏—Ä—É–µ—Ç –ø–æ –≤–µ—Ç—Ä–æ—ç–Ω–µ—Ä–≥–µ—Ç–∏–∫–µ?",
                answers: ["–†–æ—Å—Ç–æ–≤—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å", "–ú—É—Ä–º–∞–Ω—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å", "–ö–∞–ª–∏–Ω–∏–Ω–≥—Ä–∞–¥—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å", "–ü—Ä–∏–º–æ—Ä—Å–∫–∏–π –∫—Ä–∞–π"],
                correct: 0,
                fact: "–í –†–æ—Å—Ç–æ–≤—Å–∫–æ–π –æ–±–ª–∞—Å—Ç–∏ –ø–æ—Å—Ç—Ä–æ–µ–Ω—ã –∫—Ä—É–ø–Ω–µ–π—à–∏–µ –≤–µ—Ç—Ä–æ–ø–∞—Ä–∫–∏!"
            },
            {
                question: "–ö–∞–∫–æ–µ —Ç–æ–ø–ª–∏–≤–æ —Å–∞–º–æ–µ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–Ω–æ–µ –Ω–∞ –¢–≠–¶ –†–æ—Å—Å–∏–∏?",
                answers: ["–ü—Ä–∏—Ä–æ–¥–Ω—ã–π –≥–∞–∑", "–£–≥–æ–ª—å", "–ú–∞–∑—É—Ç", "–¢–æ—Ä—Ñ"],
                correct: 0,
                fact: "–ë–æ–ª–µ–µ 70% —ç–ª–µ–∫—Ç—Ä–æ—ç–Ω–µ—Ä–≥–∏–∏ –≤ –†–æ—Å—Å–∏–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—Å—è –Ω–∞ –≥–∞–∑–æ–≤—ã—Ö –¢–≠–¶!"
            },
            {
                question: "–ß—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç —Ü–≤–µ—Ç–æ–≤–∞—è –º–∞—Ä–∫–∏—Ä–æ–≤–∫–∞ –ø—Ä–æ–≤–æ–¥–æ–≤?",
                answers: [
                    "–ö–æ—Ä–∏—á–Ω–µ–≤—ã–π - —Ñ–∞–∑–∞, —Å–∏–Ω–∏–π - –Ω–æ–ª—å, –∂—ë–ª—Ç–æ-–∑–µ–ª—ë–Ω—ã–π - –∑–µ–º–ª—è",
                    "–ö—Ä–∞—Å–Ω—ã–π - —Ñ–∞–∑–∞, —á—ë—Ä–Ω—ã–π - –Ω–æ–ª—å, –±–µ–ª—ã–π - –∑–µ–º–ª—è",
                    "–°–∏–Ω–∏–π - —Ñ–∞–∑–∞, –∑–µ–ª—ë–Ω—ã–π - –Ω–æ–ª—å, –∫—Ä–∞—Å–Ω—ã–π - –∑–µ–º–ª—è"
                ],
                correct: 0,
                fact: "–¶–≤–µ—Ç–æ–≤–∞—è –º–∞—Ä–∫–∏—Ä–æ–≤–∫–∞ - –≤–∞–∂–Ω–µ–π—à–∏–π —ç–ª–µ–º–µ–Ω—Ç —ç–ª–µ–∫—Ç—Ä–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏!"
            },
            {
                question: "–ö–∞–∫–æ–µ –Ω–∞–ø—Ä—è–∂–µ–Ω–∏–µ –≤ –±—ã—Ç–æ–≤–æ–π —Å–µ—Ç–∏ –†–æ—Å—Å–∏–∏?",
                answers: ["220 –í", "110 –í", "380 –í", "127 –í"],
                correct: 0,
                fact: "220 –≤–æ–ª—å—Ç - —Å—Ç–∞–Ω–¥–∞—Ä—Ç –¥–ª—è –±—ã—Ç–æ–≤—ã—Ö —Å–µ—Ç–µ–π –≤ –†–æ—Å—Å–∏–∏ –∏ –ï–≤—Ä–æ–ø–µ!"
            },
            {
                question: "–ö–∞–∫–∏–µ –µ—â—ë –∫—Ä—É–ø–Ω—ã–µ —ç–Ω–µ—Ä–≥–æ–æ–±—ä–µ–∫—Ç—ã –µ—Å—Ç—å –≤ –¢–≤–µ—Ä—Å–∫–æ–π –æ–±–ª–∞—Å—Ç–∏?",
                answers: ["–ö–æ–Ω–∞–∫–æ–≤—Å–∫–∞—è –ì–†–≠–°", "–¢–≤–µ—Ä—Å–∫–∞—è –ê–≠–°", "–†–∂–µ–≤—Å–∫–∞—è –ì–≠–°", "–ë–µ–∂–µ—Ü–∫–∞—è –¢–≠–¶"],
                correct: 0,
                fact: "–ö–æ–Ω–∞–∫–æ–≤—Å–∫–∞—è –ì–†–≠–° - –æ–¥–Ω–∞ –∏–∑ –∫—Ä—É–ø–Ω–µ–π—à–∏—Ö —Ç–µ–ø–ª–æ–≤—ã—Ö —Å—Ç–∞–Ω—Ü–∏–π –≤ –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ–π –†–æ—Å—Å–∏–∏!"
            },
            {
                question: "–ö–∞–∫–æ–π % —ç–Ω–µ—Ä–≥–∏–∏ –¢–≤–µ—Ä—Å–∫–æ–π –æ–±–ª–∞—Å—Ç–∏ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç—Å—è?",
                answers: ["–û–∫–æ–ª–æ 40%", "10%", "70%", "90%"],
                correct: 0,
                fact: "–¢–≤–µ—Ä—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å - —ç–Ω–µ—Ä–≥–æ–¥–æ–Ω–æ—Ä! –û–∫–æ–ª–æ 40% –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–Ω–æ–π —ç–Ω–µ—Ä–≥–∏–∏ –ø–æ—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è –≤ –¥—Ä—É–≥–∏–µ —Ä–µ–≥–∏–æ–Ω—ã."
            }
        ];

        let currentTeams = [];
        let currentQuestion = 0;
        let currentTeamIndex = 0;
        let scores = {};
        let timer;
        let timeLeft = 15;
        let questionsPerTeam = 4;
        let totalQuestions = 16;

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∏–≥—Ä—ã
        function initializeGame() {
            const loadedTeams = loadTeams();
            
            if (!loadedTeams || loadedTeams.length === 0) {
                document.getElementById('noTeamsMessage').style.display = 'block';
                document.getElementById('gameScreen').style.display = 'none';
                return;
            }

            currentTeams = loadedTeams;
            document.getElementById('noTeamsMessage').style.display = 'none';
            document.getElementById('gameScreen').style.display = 'block';
            
            // –ö–æ—Ä—Ä–µ–∫—Ç–∏—Ä—É–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–æ–ø—Ä–æ—Å–æ–≤ —á—Ç–æ–±—ã –±—ã–ª–æ –∫—Ä–∞—Ç–Ω–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É –∫–æ–º–∞–Ω–¥
            questionsPerTeam = Math.floor(quizData.length / currentTeams.length);
            totalQuestions = currentTeams.length * questionsPerTeam;
            
            scores = {};
            currentTeams.forEach(team => {
                scores[team.name] = 0;
            });

            initializeScoreBoard();
            showQuestionForCurrentTeam();
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Ç–∞–±–ª–æ
        function initializeScoreBoard() {
            const scoreBoard = document.getElementById('scoreBoard');
            scoreBoard.innerHTML = '';

            currentTeams.forEach(team => {
                const scoreElement = document.createElement('div');
                scoreElement.className = 'team-score';
                scoreElement.style.borderColor = team.color;
                scoreElement.id = `score-${team.name}`;
                
                scoreElement.innerHTML = `
                    <div class="team-score-info">
                        <span class="team-icon">${team.icon}</span>
                        <span class="team-name">${team.name}</span>
                    </div>
                    <div class="team-stats">
                        <span class="team-points">${scores[team.name]}/${questionsPerTeam}</span>
                        <div class="progress-bar">
                            <div class="progress" style="width: 0%"></div>
                        </div>
                    </div>
                `;
                scoreBoard.appendChild(scoreElement);
            });
        }

        // –ü–æ–∫–∞–∑–∞—Ç—å –≤–æ–ø—Ä–æ—Å –¥–ª—è —Ç–µ–∫—É—â–µ–π –∫–æ–º–∞–Ω–¥—ã
        function showQuestionForCurrentTeam() {
            if (currentQuestion >= totalQuestions) {
                endGame();
                return;
            }

            const currentTeam = currentTeams[currentTeamIndex];
            highlightCurrentTeam(currentTeam);
            
            const questionData = quizData[currentQuestion];
            document.getElementById('questionNumber').textContent = 
                `–í–æ–ø—Ä–æ—Å ${currentQuestion + 1} –∏–∑ ${totalQuestions}`;
            document.getElementById('questionText').textContent = questionData.question;

            const answersGrid = document.getElementById('answersGrid');
            answersGrid.innerHTML = '';

            questionData.answers.forEach((answer, index) => {
                const answerBtn = document.createElement('button');
                answerBtn.className = 'answer-btn';
                answerBtn.textContent = answer;
                answerBtn.onclick = () => checkAnswer(index);
                answersGrid.appendChild(answerBtn);
            });

            document.getElementById('factContainer').style.display = 'none';
            document.getElementById('nextBtn').style.display = 'none';
            document.getElementById('timer').textContent = '15';
            document.getElementById('timerBar').style.width = '100%';
            document.getElementById('timer').style.color = '#fff';
            document.getElementById('timerBar').style.background = 'linear-gradient(90deg, #00ff88, #00b4db)';

            startTimer();
        }

        // –í–∏–∑—É–∞–ª—å–Ω–æ–µ –≤—ã–¥–µ–ª–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–π –∫–æ–º–∞–Ω–¥—ã
        function highlightCurrentTeam(team) {
            document.querySelectorAll('.team-score').forEach(score => {
                score.classList.remove('current-team');
            });
            
            const currentScoreElement = document.getElementById(`score-${team.name}`);
            if (currentScoreElement) {
                currentScoreElement.classList.add('current-team');
            }
            
            document.getElementById('currentTeamIcon').textContent = team.icon;
            document.getElementById('currentTeamName').textContent = team.name;
        }

        // –¢–∞–π–º–µ—Ä
        function startTimer() {
            timeLeft = 15;
            clearInterval(timer);

            timer = setInterval(() => {
                timeLeft--;
                document.getElementById('timer').textContent = timeLeft;
                document.getElementById('timerBar').style.width = `${(timeLeft / 15) * 100}%`;

                if (timeLeft <= 5) {
                    document.getElementById('timer').style.color = '#ff4444';
                    document.getElementById('timerBar').style.background = '#ff4444';
                } else if (timeLeft <= 10) {
                    document.getElementById('timer').style.color = '#ffaa00';
                    document.getElementById('timerBar').style.background = '#ffaa00';
                }

                if (timeLeft <= 0) {
                    clearInterval(timer);
                    timeUp();
                }
            }, 1000);
        }

        // –í—Ä–µ–º—è –≤—ã—à–ª–æ
        function timeUp() {
            const questionData = quizData[currentQuestion];
            highlightCorrectAnswer(questionData.correct);
            showFact(questionData.fact);
        }

        // –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Ç–≤–µ—Ç–∞
        function checkAnswer(selectedIndex) {
            clearInterval(timer);
            const questionData = quizData[currentQuestion];
            const isCorrect = selectedIndex === questionData.correct;
            const currentTeam = currentTeams[currentTeamIndex];

            highlightAnswers(selectedIndex, questionData.correct);

            if (isCorrect) {
                scores[currentTeam.name] += 1;
                updateScore(currentTeam.name);
            }

            showFact(questionData.fact);
        }

        // –ü–æ–¥—Å–≤–µ—Ç–∫–∞ –æ—Ç–≤–µ—Ç–æ–≤
        function highlightAnswers(selected, correct) {
            const answerBtns = document.querySelectorAll('.answer-btn');
            answerBtns.forEach((btn, index) => {
                if (index === correct) {
                    btn.classList.add('correct');
                } else if (index === selected) {
                    btn.classList.add('incorrect');
                }
            });
        }

        // –ü–æ–¥—Å–≤–µ—Ç–∫–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –æ—Ç–≤–µ—Ç–∞
        function highlightCorrectAnswer(correctIndex) {
            const answerBtns = document.querySelectorAll('.answer-btn');
            answerBtns[correctIndex].classList.add('correct');
        }

        // –ü–æ–∫–∞–∑–∞—Ç—å —Ñ–∞–∫—Ç
        function showFact(fact) {
            document.getElementById('factText').textContent = fact;
            document.getElementById('factContainer').style.display = 'block';
            document.getElementById('nextBtn').style.display = 'block';
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—á–µ—Ç–∞
        function updateScore(teamName) {
            const scoreElement = document.getElementById(`score-${teamName}`);
            const correctAnswers = scores[teamName];
            const progressWidth = (correctAnswers / questionsPerTeam) * 100;
            
            scoreElement.innerHTML = `
                <div class="team-score-info">
                    <span class="team-icon">${currentTeams.find(t => t.name === teamName).icon}</span>
                    <span class="team-name">${teamName}</span>
                </div>
                <div class="team-stats">
                    <span class="team-points">${correctAnswers}/${questionsPerTeam}</span>
                    <div class="progress-bar">
                        <div class="progress" style="width: ${progressWidth}%"></div>
                    </div>
                </div>
            `;
            
            scoreElement.classList.add('score-update');
            setTimeout(() => scoreElement.classList.remove('score-update'), 300);
        }

        // –°–ª–µ–¥—É—é—â–∏–π –≤–æ–ø—Ä–æ—Å
        function nextQuestion() {
            currentQuestion++;
            currentTeamIndex = (currentTeamIndex + 1) % currentTeams.length;
            showQuestionForCurrentTeam();
        }

        // –ö–æ–Ω–µ—Ü –∏–≥—Ä—ã
        function endGame() {
            let winners = [];
            let maxScore = 0;
            
            currentTeams.forEach(team => {
                if (scores[team.name] > maxScore) {
                    maxScore = scores[team.name];
                    winners = [team];
                } else if (scores[team.name] === maxScore) {
                    winners.push(team);
                }
            });

            const finalScreen = document.createElement('div');
            finalScreen.style.cssText = `
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: rgba(0, 0, 0, 0.9);
                display: flex;
                justify-content: center;
                align-items: center;
                z-index: 1000;
            `;

            let winnerText;
            if (winners.length === 1) {
                winnerText = `üéâ –ü–û–ë–ï–î–ò–¢–ï–õ–¨!<br>–ö–æ–º–∞–Ω–¥–∞ ${winners[0].icon} ${winners[0].name}<br>${maxScore}/${questionsPerTeam} –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤`;
            } else {
                const winnerNames = winners.map(w => `${w.icon} ${w.name}`).join('<br>');
                winnerText = `üéâ –ù–ò–ß–¨–Ø!<br>${winnerNames}<br>${maxScore}/${questionsPerTeam} –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤`;
            }

            finalScreen.innerHTML = `
                <div style="
                    background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
                    padding: 40px;
                    border-radius: 20px;
                    border: 3px solid #FFD700;
                    text-align: center;
                    max-width: 500px;
                    width: 90%;
                ">
                    <h2 style="color: #FFD700; margin-bottom: 30px; font-size: 2em;">–†–ï–ó–£–õ–¨–¢–ê–¢–´ –í–ò–ö–¢–û–†–ò–ù–´</h2>
                    <div style="font-size: 1.5em; margin-bottom: 30px; line-height: 1.5;">
                        ${winnerText}
                    </div>
                    <div style="margin-bottom: 30px;">
                        <h3 style="color: #00b4db; margin-bottom: 15px;">–ò—Ç–æ–≥–æ–≤—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã:</h3>
                        ${currentTeams.map(team => `
                            <div style="display: flex; justify-content: space-between; margin: 10px 0; font-size: 1.2em;">
                                <span>${team.icon} ${team.name}</span>
                                <span style="color: #00ff88;">${scores[team.name]}/${questionsPerTeam}</span>
                            </div>
                        `).join('')}
                    </div>
                    <div style="display: flex; gap: 15px; justify-content: center; flex-wrap: wrap;">
                        <button onclick="this.parentElement.parentElement.remove(); location.reload()" 
                                style="
                                    padding: 15px 30px;
                                    background: linear-gradient(45deg, #00b4db, #0083b0);
                                    color: white;
                                    border: none;
                                    border-radius: 25px;
                                    font-size: 1.1em;
                                    font-weight: bold;
                                    cursor: pointer;
                                ">
                            üéÆ –ù–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ
                        </button>
                        <button onclick="window.location.href='index.html'" 
                                style="
                                    padding: 15px 30px;
                                    background: linear-gradient(45deg, #00ff88, #00cc66);
                                    color: white;
                                    border: none;
                                    border-radius: 25px;
                                    font-size: 1.1em;
                                    font-weight: bold;
                                    cursor: pointer;
                                ">
                            üè† –ù–∞ –≥–ª–∞–≤–Ω—É—é
                        </button>
                    </div>
                </div>
            `;

            document.body.appendChild(finalScreen);
        }

        // –ó–∞–ø—É—Å–∫ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        window.onload = initializeGame;
    </script>
</body>
</html>