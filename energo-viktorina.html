<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–≠–Ω–µ—Ä–≥–æ–ö–≤–∏–∑: –í–∏–∫—Ç–æ—Ä–∏–Ω–∞</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #0c0c0c 0%, #1a1a2e 50%, #16213e 100%);
            color: #fff;
            min-height: 100vh;
        }

        .container {
            max-width: 1800px;
            margin: 0 auto;
            padding: 20px;
        }

        /* –®–∞–ø–∫–∞ */
        .header {
            text-align: center;
            padding: 20px 0 15px 0;
            margin-bottom: 15px;
            background: rgba(0, 0, 0, 0.5);
            border-radius: 15px;
            backdrop-filter: blur(10px);
        }

        .header h1 {
            font-size: 3.5em;
            margin-bottom: 10px;
            color: #FFD700;
            text-shadow: 0 2px 4px rgba(0,0,0,0.5);
        }

        .header-subtitle {
            font-size: 1.5em;
            color: #E0E0E0;
            margin-bottom: 15px;
        }

        /* –ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è */
        .control-panel {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 15px;
            flex-wrap: wrap;
        }

        .btn {
            padding: 15px 30px;
            border: none;
            border-radius: 12px;
            font-size: 1.2em;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            min-width: 180px;
        }

        .btn-primary {
            background: linear-gradient(45deg, #4FC3F7, #29B6F6);
            color: white;
        }

        .btn-warning {
            background: linear-gradient(45deg, #FFD700, #FFA500);
            color: #333;
        }

        .btn-success {
            background: linear-gradient(45deg, #00ff88, #00cc66);
            color: white;
        }

        .btn-danger {
            background: linear-gradient(45deg, #ff4444, #ff6b6b);
            color: white;
        }

        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .btn:hover:not(:disabled) {
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.3);
        }

        /* –û—Å–Ω–æ–≤–Ω–æ–π –º–∞–∫–µ—Ç - 2 –∫–æ–ª–æ–Ω–∫–∏ */
        .game-layout {
            display: flex;
            gap: 30px;
            min-height: 700px;
        }

        @media (max-width: 1200px) {
            .game-layout {
                flex-direction: column;
            }
        }

        /* –õ–µ–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞: –ö–æ–º–∞–Ω–¥—ã –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ */
        .left-column {
            flex: 0 0 30%;
            display: flex;
            flex-direction: column;
            gap: 30px;
        }

        /* –ü—Ä–∞–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞: –í–æ–ø—Ä–æ—Å –∏ –æ—Ç–≤–µ—Ç—ã */
        .right-column {
            flex: 1;
            display: flex;
            flex-direction: column;
            gap: 30px;
        }

        /* –ë–ª–æ–∫ –∫–æ–º–∞–Ω–¥ */
        .teams-section {
            background: rgba(0, 0, 0, 0.7);
            padding: 25px;
            border-radius: 15px;
            border: 2px solid rgba(255, 215, 0, 0.3);
            backdrop-filter: blur(5px);
        }

        .teams-section h2 {
            color: #FFD700;
            font-size: 2em;
            margin-bottom: 20px;
            text-align: center;
        }

        .teams-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
        }

        .team-card {
            background: rgba(255, 255, 255, 0.05);
            padding: 15px;
            border-radius: 10px;
            border: 2px solid transparent;
            transition: all 0.3s ease;
        }

        .team-card.active {
            border-color: #00ff88;
            background: rgba(0, 255, 136, 0.1);
            transform: scale(1.02);
        }

        .team-name {
            font-size: 1.5em;
            font-weight: bold;
            color: #4FC3F7;
            margin-bottom: 5px;
            text-align: center;
        }

        .team-score {
            font-size: 1.8em;
            color: #FFD700;
            font-weight: bold;
            text-align: center;
        }

        .bonus-badge {
            display: inline-block;
            background: #FFD700;
            color: #333;
            font-size: 0.7em;
            padding: 2px 6px;
            border-radius: 10px;
            margin-left: 5px;
            font-weight: bold;
            animation: pulse 1.5s infinite;
        }

        /* –ë–ª–æ–∫ —Ç–µ–∫—É—â–µ–π –∫–æ–º–∞–Ω–¥—ã —Å —Ç–∞–π–º–µ—Ä–æ–º –ø–æ–¥ –Ω–∏–º */
        .current-team-container {
            background: rgba(0, 0, 0, 0.7);
            padding: 25px;
            border-radius: 15px;
            border: 2px solid rgba(255, 215, 0, 0.3);
            backdrop-filter: blur(5px);
        }

        .current-team-display {
            text-align: center;
            margin-bottom: 30px;
        }

        .current-team-display h3 {
            color: #FFD700;
            font-size: 1.5em;
            margin-bottom: 15px;
        }

        .current-team-name {
            font-size: 2.5em;
            color: #4FC3F7;
            font-weight: bold;
            margin: 10px 0;
        }

        .question-counter {
            font-size: 1.3em;
            color: #E0E0E0;
            margin-top: 10px;
        }

        /* –¢–∞–π–º–µ—Ä –ø–æ–¥ –±–ª–æ–∫–æ–º —Ç–µ–∫—É—â–µ–π –∫–æ–º–∞–Ω–¥—ã */
        .timer-container {
            text-align: center;
            padding: 20px;
            background: rgba(0, 0, 0, 0.5);
            border-radius: 10px;
            border: 2px solid rgba(79, 195, 247, 0.3);
        }

        .timer-container h3 {
            color: #4FC3F7;
            font-size: 1.5em;
            margin-bottom: 15px;
        }

        .timer-display {
            font-size: 4em;
            font-weight: bold;
            color: #FFD700;
            margin: 10px 0;
            text-shadow: 0 0 10px rgba(255, 215, 0, 0.5);
        }

        .timer-warning {
            color: #ff4444 !important;
            animation: pulse 1s infinite;
        }

        .bonus-indicator {
            font-size: 1.2em;
            color: #00ff88;
            margin-top: 10px;
            font-weight: bold;
        }

        /* –ë–ª–æ–∫ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è */
        .game-controls {
            background: rgba(0, 0, 0, 0.7);
            padding: 25px;
            border-radius: 15px;
            border: 2px solid rgba(79, 195, 247, 0.3);
            backdrop-filter: blur(5px);
        }

        .control-buttons {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .btn-control {
            width: 100%;
            padding: 18px;
            font-size: 1.3em;
        }

        /* –ë–ª–æ–∫ –≤–æ–ø—Ä–æ—Å–∞ */
        .question-section {
            background: rgba(0, 0, 0, 0.7);
            padding: 40px;
            border-radius: 15px;
            border: 2px solid rgba(129, 199, 132, 0.3);
            flex: 1;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            backdrop-filter: blur(5px);
        }

        .question-text {
            font-size: 3em; /* –ö—Ä—É–ø–Ω—ã–π —à—Ä–∏—Ñ—Ç –¥–ª—è —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω–æ–π –¥–æ—Å–∫–∏ */
            font-weight: bold;
            color: #FFD700;
            text-align: center;
            margin: 20px 0;
            text-shadow: 0 4px 8px rgba(0,0,0,0.5);
            line-height: 1.3;
        }

        /* –ë–ª–æ–∫ –æ—Ç–≤–µ—Ç–æ–≤ */
        .answers-section {
            background: rgba(0, 0, 0, 0.7);
            padding: 25px;
            border-radius: 15px;
            border: 2px solid rgba(79, 195, 247, 0.3);
            backdrop-filter: blur(5px);
        }

        .answers-section h3 {
            color: #4FC3F7;
            font-size: 1.8em;
            margin-bottom: 20px;
            text-align: center;
        }

        .answers-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
        }

        @media (max-width: 768px) {
            .answers-grid {
                grid-template-columns: 1fr;
            }
        }

        .answer-btn {
            padding: 30px 20px;
            background: rgba(255, 255, 255, 0.1);
            border: 3px solid #4FC3F7;
            border-radius: 15px;
            color: white;
            font-size: 2em; /* –ö—Ä—É–ø–Ω—ã–π —à—Ä–∏—Ñ—Ç –¥–ª—è –∫–Ω–æ–ø–æ–∫ */
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
            font-weight: bold;
            min-height: 120px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .answer-btn:hover:not(:disabled) {
            border-color: #FFD700;
            background: rgba(255, 215, 0, 0.1);
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(255, 215, 0, 0.3);
        }

        .answer-btn:disabled {
            cursor: not-allowed;
            opacity: 0.6;
        }

        .answer-btn.correct {
            background: rgba(0, 255, 136, 0.2);
            border-color: #00ff88;
            color: #00ff88;
        }

        .answer-btn.incorrect {
            background: rgba(255, 68, 68, 0.2);
            border-color: #ff4444;
            color: #ff4444;
        }

        /* –ë–ª–æ–∫ —Ñ–∞–∫—Ç–æ–≤ */
        .fact-container {
            background: rgba(0, 0, 0, 0.7);
            padding: 25px;
            border-radius: 15px;
            border: 2px solid rgba(255, 152, 0, 0.3);
            backdrop-filter: blur(5px);
            display: none;
        }

        .fact-container h3 {
            color: #FF9800;
            font-size: 1.8em;
            margin-bottom: 20px;
            text-align: center;
        }

        .fact-text {
            font-size: 1.5em;
            color: #E0E0E0;
            line-height: 1.5;
            text-align: center;
        }

        /* –°–æ–æ–±—â–µ–Ω–∏–µ –æ –∑–∞–≥—Ä—É–∑–∫–µ –∫–æ–º–∞–Ω–¥ */
        .load-teams-message {
            text-align: center;
            padding: 30px;
            background: rgba(255, 215, 0, 0.1);
            border-radius: 15px;
            border: 2px solid #FFD700;
            margin: 15px 0;
        }

        /* –ö–Ω–æ–ø–∫–∞ —Å–ª–µ–¥—É—é—â–µ–≥–æ –≤–æ–ø—Ä–æ—Å–∞ */
        .next-question-section {
            text-align: center;
            margin-top: 20px;
        }

        /* –ê–Ω–∏–º–∞—Ü–∏–∏ */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes pulse {
            0% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.05); opacity: 0.8; }
            100% { transform: scale(1); opacity: 1; }
        }

        @keyframes bonusPulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.2); }
            100% { transform: scale(1); }
        }

        .bonus-animation {
            animation: bonusPulse 0.5s ease-in-out 3;
        }

        /* –ú–æ–±–∏–ª—å–Ω–∞—è –∞–¥–∞–ø—Ç–∞—Ü–∏—è */
        @media (max-width: 1200px) {
            .question-text {
                font-size: 2.5em;
            }
            
            .answer-btn {
                font-size: 1.8em;
                padding: 25px 15px;
            }
        }
        
        @media (max-width: 768px) {
            .header h1 {
                font-size: 2.5em;
            }
            
            .question-text {
                font-size: 2em;
            }
            
            .answer-btn {
                font-size: 1.5em;
                padding: 20px 10px;
                min-height: 100px;
            }
            
            .timer-display {
                font-size: 3em;
            }
            
            .current-team-name {
                font-size: 2em;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- –®–∞–ø–∫–∞ -->
        <div class="header">
            <h1>‚ö° –≠–ù–ï–†–ì–û-–í–ò–ö–¢–û–†–ò–ù–ê</h1>
            <div class="header-subtitle">
                –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–≤–æ–∏ –∑–Ω–∞–Ω–∏—è –≤ –æ–±–ª–∞—Å—Ç–∏ —ç–Ω–µ—Ä–≥–µ—Ç–∏–∫–∏! 40 —Å–µ–∫—É–Ω–¥ –Ω–∞ –æ—Ç–≤–µ—Ç
            </div>
            
            <div class="control-panel">
                <button class="btn btn-primary" onclick="window.location.href='index.html'">
                    ‚Üê –ù–∞ –≥–ª–∞–≤–Ω—É—é
                </button>
                <button class="btn btn-warning" id="startBtn" onclick="startGame()">
                    üöÄ –ù–∞—á–∞—Ç—å –∏–≥—Ä—É
                </button>
                <button class="btn btn-danger" id="resetBtn" onclick="resetGame()" style="display: none;">
                    üîÑ –°–±—Ä–æ—Å–∏—Ç—å –∏–≥—Ä—É
                </button>
            </div>
        </div>

        <!-- –°–æ–æ–±—â–µ–Ω–∏–µ –æ –∑–∞–≥—Ä—É–∑–∫–µ –∫–æ–º–∞–Ω–¥ -->
        <div class="load-teams-message" id="teamsMessage">
            <h3 style="color: #FFD700; margin-bottom: 15px;">üë• –ó–ê–ì–†–£–ó–ö–ê –ö–û–ú–ê–ù–î</h3>
            <div id="teamsStatus" style="font-size: 1.3em;">
                –ö–æ–º–∞–Ω–¥—ã –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è...
            </div>
        </div>

        <!-- –û—Å–Ω–æ–≤–Ω–æ–π –º–∞–∫–µ—Ç -->
        <div class="game-layout" style="display: none;" id="gameLayout">
            <!-- –õ–µ–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞ -->
            <div class="left-column">
                <!-- –ö–æ–º–∞–Ω–¥—ã -->
                <div class="teams-section" id="teamsSection">
                    <h2>–ö–û–ú–ê–ù–î–´</h2>
                    <div class="teams-grid" id="teamsGrid"></div>
                </div>

                <!-- –¢–µ–∫—É—â–∞—è –∫–æ–º–∞–Ω–¥–∞ —Å —Ç–∞–π–º–µ—Ä–æ–º –ø–æ–¥ –Ω–µ–π -->
                <div class="current-team-container">
                    <div class="current-team-display">
                        <h3>–û—Ç–≤–µ—á–∞–µ—Ç:</h3>
                        <div class="current-team-name" id="currentTeamName">–ö–æ–º–∞–Ω–¥–∞ ?</div>
                        <div class="question-counter">
                            –í–æ–ø—Ä–æ—Å <span id="currentQuestionNum">1</span> –∏–∑ <span id="totalQuestionsForTeam">6</span> –¥–ª—è –∫–æ–º–∞–Ω–¥—ã
                        </div>
                    </div>

                    <!-- –¢–∞–π–º–µ—Ä -->
                    <div class="timer-container">
                        <h3>‚è±Ô∏è –¢–ê–ô–ú–ï–†</h3>
                        <div class="timer-display" id="timerDisplay">40</div>
                        <div id="bonusIndicator" class="bonus-indicator" style="display: none;">
                            üöÄ +1 –±–∞–ª–ª –∑–∞ –±—ã—Å—Ç—Ä—ã–π –æ—Ç–≤–µ—Ç!
                        </div>
                        <div>—Å–µ–∫—É–Ω–¥ –Ω–∞ –æ—Ç–≤–µ—Ç</div>
                    </div>
                </div>

                <!-- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ -->
                <div class="game-controls">
                    <div class="control-buttons">
                        <button class="btn btn-success btn-control" onclick="skipQuestion()" id="skipBtn" disabled>
                            –ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å –≤–æ–ø—Ä–æ—Å
                        </button>
                    </div>
                </div>
            </div>

            <!-- –ü—Ä–∞–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞ -->
            <div class="right-column">
                <!-- –í–æ–ø—Ä–æ—Å -->
                <div class="question-section">
                    <div class="question-text" id="questionText">
                        –ì–û–¢–û–í–´ –ö –í–ò–ö–¢–û–†–ò–ù–ï?
                    </div>
                </div>

                <!-- –û—Ç–≤–µ—Ç—ã -->
                <div class="answers-section" id="answersSection" style="display: none;">
                    <h3>–í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç:</h3>
                    <div class="answers-grid" id="answersGrid">
                        <!-- –ö–Ω–æ–ø–∫–∏ –æ—Ç–≤–µ—Ç–æ–≤ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã —á–µ—Ä–µ–∑ JavaScript -->
                    </div>
                </div>

                <!-- –§–∞–∫—Ç -->
                <div class="fact-container" id="factContainer">
                    <h3>üí° –§–ê–ö–¢:</h3>
                    <div class="fact-text" id="factText"></div>
                </div>

                <!-- –ö–Ω–æ–ø–∫–∞ —Å–ª–µ–¥—É—é—â–µ–≥–æ –≤–æ–ø—Ä–æ—Å–∞ -->
                <div class="next-question-section">
                    <button class="btn btn-success" id="nextBtn" onclick="nextQuestion()" style="display: none; font-size: 1.3em; padding: 20px 40px;">
                        ‚û°Ô∏è –°–ª–µ–¥—É—é—â–∏–π –≤–æ–ø—Ä–æ—Å
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // ========== –î–ê–ù–ù–´–ï –í–ò–ö–¢–û–†–ò–ù–´ (24 –í–û–ü–†–û–°–ê) ==========
        const originalQuizData = [
            // –ù–æ–≤—ã–µ –∞—Ç–æ–º–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã (1-8)
            {
                question: "–í –∫–∞–∫–æ–º –≥–æ–¥—É –±—ã–ª–∞ –∑–∞–ø—É—â–µ–Ω–∞ –ø–µ—Ä–≤–∞—è –≤ –º–∏—Ä–µ –ê–≠–°?",
                answers: ["1954", "1958", "1962", "1965"],
                correct: 0,
                fact: "–û–±–Ω–∏–Ω—Å–∫–∞—è –ê–≠–° –≤ –°–°–°–† –Ω–∞—á–∞–ª–∞ —Ä–∞–±–æ—Ç—É 26 –∏—é–Ω—è 1954 –≥–æ–¥–∞ - —ç—Ç–æ –±—ã–ª–∞ –ø–µ—Ä–≤–∞—è –≤ –º–∏—Ä–µ –∞—Ç–æ–º–Ω–∞—è —ç–ª–µ–∫—Ç—Ä–æ—Å—Ç–∞–Ω—Ü–∏—è!"
            },
            {
                question: "–í –∫–∞–∫–æ–π —Å—Ç—Ä–∞–Ω–µ –±—ã–ª–∞ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∞ –ø–µ—Ä–≤–∞—è –≤ –º–∏—Ä–µ –ê–≠–°?",
                answers: ["–°–°–°–†", "–°–®–ê", "–í–µ–ª–∏–∫–æ–±—Ä–∏—Ç–∞–Ω–∏—è", "–§—Ä–∞–Ω—Ü–∏—è"],
                correct: 0,
                fact: "–ü–µ—Ä–≤–∞—è –≤ –º–∏—Ä–µ –ê–≠–° –±—ã–ª–∞ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∞ –≤ –°–°–°–† –≤ –≥–æ—Ä–æ–¥–µ –û–±–Ω–∏–Ω—Å–∫–µ. –û–Ω–∞ –ø—Ä–æ—Ä–∞–±–æ—Ç–∞–ª–∞ 48 –ª–µ—Ç!"
            },
            {
                question: "–í –∫–∞–∫–æ–π —Å—Ç—Ä–∞–Ω–µ —Å–µ–≥–æ–¥–Ω—è —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞–∏–±–æ–ª—å—à–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞—Ç–æ–º–Ω—ã—Ö —Ä–µ–∞–∫—Ç–æ—Ä–æ–≤?",
                answers: ["–°–®–ê", "–§—Ä–∞–Ω—Ü–∏—è", "–ö–∏—Ç–∞–π", "–†–æ—Å—Å–∏—è"],
                correct: 0,
                fact: "–í –°–®–ê —Ä–∞–±–æ—Ç–∞–µ—Ç 93 –∞—Ç–æ–º–Ω—ã—Ö —Ä–µ–∞–∫—Ç–æ—Ä–∞ - —ç—Ç–æ –±–æ–ª—å—à–µ, —á–µ–º –≤ –ª—é–±–æ–π –¥—Ä—É–≥–æ–π —Å—Ç—Ä–∞–Ω–µ –º–∏—Ä–∞!"
            },
            {
                question: "–°–∫–æ–ª—å–∫–æ –∞—Ç–æ–º–Ω—ã—Ö —Ä–µ–∞–∫—Ç–æ—Ä–æ–≤ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –º–∏—Ä–µ —Å–µ–≥–æ–¥–Ω—è (2024)?",
                answers: ["–æ–∫–æ–ª–æ 440", "–æ–∫–æ–ª–æ 290", "–æ–∫–æ–ª–æ 510", "–æ–∫–æ–ª–æ 630"],
                correct: 0,
                fact: "–í –º–∏—Ä–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –æ–∫–æ–ª–æ 440 –∞—Ç–æ–º–Ω—ã—Ö —Ä–µ–∞–∫—Ç–æ—Ä–æ–≤ –≤ 32 —Å—Ç—Ä–∞–Ω–∞—Ö!"
            },
            {
                question: "–°–∫–æ–ª—å–∫–æ —Å—Ç—Ä–∞–Ω –≤ –º–∏—Ä–µ –∏–º–µ—é—Ç –∞—Ç–æ–º–Ω—ã–µ —ç–ª–µ–∫—Ç—Ä–æ—Å—Ç–∞–Ω—Ü–∏–∏?",
                answers: ["32 —Å—Ç—Ä–∞–Ω—ã", "22 —Å—Ç—Ä–∞–Ω—ã", "42 —Å—Ç—Ä–∞–Ω—ã", "52 —Å—Ç—Ä–∞–Ω—ã"],
                correct: 0,
                fact: "32 —Å—Ç—Ä–∞–Ω—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç –∞—Ç–æ–º–Ω—É—é —ç–Ω–µ—Ä–≥–∏—é –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞ —ç–ª–µ–∫—Ç—Ä–æ—ç–Ω–µ—Ä–≥–∏–∏!"
            },
            {
                question: "–°–∫–æ–ª—å–∫–æ –∞—Ç–æ–º–Ω—ã—Ö —ç–ª–µ–∫—Ç—Ä–æ—Å—Ç–∞–Ω—Ü–∏–π —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –†–æ—Å—Å–∏–∏?",
                answers: ["11 –ê–≠–°", "8 –ê–≠–°", "10 –ê–≠–°", "12 –ê–≠–°"],
                correct: 0,
                fact: "–í –†–æ—Å—Å–∏–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç 11 –ê–≠–° —Å 37 —ç–Ω–µ—Ä–≥–æ–±–ª–æ–∫–∞–º–∏. –û–Ω–∏ –ø—Ä–æ–∏–∑–≤–æ–¥—è—Ç –æ–∫–æ–ª–æ 20% –≤—Å–µ–π —ç–ª–µ–∫—Ç—Ä–æ—ç–Ω–µ—Ä–≥–∏–∏ —Å—Ç—Ä–∞–Ω—ã!"
            },
            {
                question: "–ö–∞–∫–æ–π —Ç–∏–ø —Ä–µ–∞–∫—Ç–æ—Ä–∞ –Ω–∞–∏–±–æ–ª–µ–µ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω –≤ –†–æ—Å—Å–∏–∏?",
                answers: ["–í–í–≠–†", "–†–ë–ú–ö", "–ë–ù", "–≠–ì–ü"],
                correct: 0,
                fact: "–í–æ–¥–æ-–≤–æ–¥—è–Ω—ã–µ —ç–Ω–µ—Ä–≥–µ—Ç–∏—á–µ—Å–∫–∏–µ —Ä–µ–∞–∫—Ç–æ—Ä—ã (–í–í–≠–†) - –æ—Å–Ω–æ–≤–Ω–æ–π —Ç–∏–ø –Ω–∞ —Ä–æ—Å—Å–∏–π—Å–∫–∏—Ö –ê–≠–°!"
            },
            {
                question: "–ß—Ç–æ —Ç–∞–∫–æ–µ '–±—ã—Å—Ç—Ä—ã–π —Ä–µ–∞–∫—Ç–æ—Ä'?",
                answers: ["–†–µ–∞–∫—Ç–æ—Ä –Ω–∞ –±—ã—Å—Ç—Ä—ã—Ö –Ω–µ–π—Ç—Ä–æ–Ω–∞—Ö", "–†–µ–∞–∫—Ç–æ—Ä –±—ã—Å—Ç—Ä–æ–≥–æ –∑–∞–ø—É—Å–∫–∞", "–ö–æ–º–ø–∞–∫—Ç–Ω—ã–π —Ä–µ–∞–∫—Ç–æ—Ä", "–ú–æ–±–∏–ª—å–Ω—ã–π —Ä–µ–∞–∫—Ç–æ—Ä"],
                correct: 0,
                fact: "–ë—ã—Å—Ç—Ä—ã–µ —Ä–µ–∞–∫—Ç–æ—Ä—ã –º–æ–≥—É—Ç '—Å–∂–∏–≥–∞—Ç—å' —è–¥–µ—Ä–Ω—ã–µ –æ—Ç—Ö–æ–¥—ã –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—å –±–æ–ª—å—à–µ —Ç–æ–ø–ª–∏–≤–∞, —á–µ–º –ø–æ—Ç—Ä–µ–±–ª—è—é—Ç!"
            },
            
            // –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –≤–æ–ø—Ä–æ—Å—ã (9-24)
            {
                question: "–°–∞–º–∞—è –∫—Ä—É–ø–Ω–∞—è –ê–≠–° –≤ –†–æ—Å—Å–∏–∏?",
                answers: ["–ë–∞–ª–∞–∫–æ–≤—Å–∫–∞—è –ê–≠–°", "–õ–µ–Ω–∏–Ω–≥—Ä–∞–¥—Å–∫–∞—è –ê–≠–°", "–ö–∞–ª–∏–Ω–∏–Ω—Å–∫–∞—è –ê–≠–°", "–†–æ—Å—Ç–æ–≤—Å–∫–∞—è –ê–≠–°"],
                correct: 0,
                fact: "–ë–∞–ª–∞–∫–æ–≤—Å–∫–∞—è –ê–≠–° - –∫—Ä—É–ø–Ω–µ–π—à–∞—è –≤ –†–æ—Å—Å–∏–∏, –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç 30% —ç–ª–µ–∫—Ç—Ä–æ—ç–Ω–µ—Ä–≥–∏–∏ –ü–æ–≤–æ–ª–∂—å—è!"
            },
            {
                question: "–í –∫–∞–∫–æ–º –≥–æ—Ä–æ–¥–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –ö–∞–ª–∏–Ω–∏–Ω—Å–∫–∞—è –ê–≠–°?",
                answers: ["–£–¥–æ–º–ª—è", "–ö–∞–ª–∏–Ω–∏–Ω–≥—Ä–∞–¥", "–¢–≤–µ—Ä—å", "–í—ã—à–Ω–∏–π –í–æ–ª–æ—á–µ–∫"],
                correct: 0,
                fact: "–ö–∞–ª–∏–Ω–∏–Ω—Å–∫–∞—è –ê–≠–° —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∞ –≤ –≥–æ—Ä–æ–¥–µ –£–¥–æ–º–ª—è –¢–≤–µ—Ä—Å–∫–æ–π –æ–±–ª–∞—Å—Ç–∏!"
            },
            {
                question: "–°–∫–æ–ª—å–∫–æ —ç–Ω–µ—Ä–≥–æ–±–ª–æ–∫–æ–≤ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –ö–∞–ª–∏–Ω–∏–Ω—Å–∫–æ–π –ê–≠–°?",
                answers: ["4 —ç–Ω–µ—Ä–≥–æ–±–ª–æ–∫–∞", "2 —ç–Ω–µ—Ä–≥–æ–±–ª–æ–∫–∞", "3 —ç–Ω–µ—Ä–≥–æ–±–ª–æ–∫–∞", "5 —ç–Ω–µ—Ä–≥–æ–±–ª–æ–∫–æ–≤"],
                correct: 0,
                fact: "–í—Å–µ 4 —ç–Ω–µ—Ä–≥–æ–±–ª–æ–∫–∞ - —ç—Ç–æ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ä–µ–∞–∫—Ç–æ—Ä—ã –í–í–≠–†-1000 –æ–±—â–µ–π –º–æ—â–Ω–æ—Å—Ç—å—é 4000 –ú–í—Ç!"
            },
            {
                question: "–ö–∞–∫–∞—è –ì–≠–° —Å–∞–º–∞—è –º–æ—â–Ω–∞—è –≤ –ï–≤—Ä–æ–ø–µ?",
                answers: ["–°–∞—è–Ω–æ-–®—É—à–µ–Ω—Å–∫–∞—è", "–ö—Ä–∞—Å–Ω–æ—è—Ä—Å–∫–∞—è", "–ë—Ä–∞—Ç—Å–∫–∞—è", "–í–æ–ª–∂—Å–∫–∞—è"],
                correct: 0,
                fact: "–°–∞—è–Ω–æ-–®—É—à–µ–Ω—Å–∫–∞—è –ì–≠–° –º–æ—â–Ω–æ—Å—Ç—å—é 6400 –ú–í—Ç!"
            },
            {
                question: "–ö–∞–∫–æ–π —Ç–∏–ø —Ä–µ–∞–∫—Ç–æ—Ä–æ–≤ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –Ω–∞ –ö–∞–ª–∏–Ω–∏–Ω—Å–∫–æ–π –ê–≠–°?",
                answers: ["–í–í–≠–†-1000", "–†–ë–ú–ö-1000", "–ë–ù-800", "–≠–ì–ü-6"],
                correct: 0,
                fact: "–í–í–≠–†-1000 - –æ–¥–∏–Ω –∏–∑ —Å–∞–º—ã—Ö –±–µ–∑–æ–ø–∞—Å–Ω—ã—Ö —Ä–µ–∞–∫—Ç–æ—Ä–æ–≤ –≤ –º–∏—Ä–µ!"
            },
            {
                question: "–ö–∞–∫–æ–µ –Ω–∞–ø—Ä—è–∂–µ–Ω–∏–µ –≤ –±—ã—Ç–æ–≤–æ–π —Å–µ—Ç–∏ –†–æ—Å—Å–∏–∏?",
                answers: ["220 –í", "110 –í", "380 –í", "127 –í"],
                correct: 0,
                fact: "220 –≤–æ–ª—å—Ç - —Å—Ç–∞–Ω–¥–∞—Ä—Ç –¥–ª—è –±—ã—Ç–æ–≤—ã—Ö —Å–µ—Ç–µ–π –≤ –†–æ—Å—Å–∏–∏ –∏ –ï–≤—Ä–æ–ø–µ!"
            },
            {
                question: "–ö–∞–∫–∞—è –¥–æ–ª—è –º–∏—Ä–æ–≤–æ–π —ç–ª–µ–∫—Ç—Ä–æ—ç–Ω–µ—Ä–≥–∏–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—Å—è –Ω–∞ –ê–≠–°?",
                answers: ["–æ–∫–æ–ª–æ 10%", "–æ–∫–æ–ª–æ 5%", "–æ–∫–æ–ª–æ 15%", "–æ–∫–æ–ª–æ 25%"],
                correct: 0,
                fact: "–ê–≠–° –ø—Ä–æ–∏–∑–≤–æ–¥—è—Ç –æ–∫–æ–ª–æ 10% –º–∏—Ä–æ–≤–æ–π —ç–ª–µ–∫—Ç—Ä–æ—ç–Ω–µ—Ä–≥–∏–∏, –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞—è –≤—ã–±—Ä–æ—Å 2 –º–∏–ª–ª–∏–∞—Ä–¥–æ–≤ —Ç–æ–Ω–Ω CO2 –µ–∂–µ–≥–æ–¥–Ω–æ!"
            },
            {
                question: "–°–∫–æ–ª—å–∫–æ –ª–µ—Ç –º–æ–∂–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –∞—Ç–æ–º–Ω—ã–π —Ä–µ–∞–∫—Ç–æ—Ä?",
                answers: ["60 –ª–µ—Ç", "30-40 –ª–µ—Ç", "40-50 –ª–µ—Ç", "80 –ª–µ—Ç"],
                correct: 0,
                fact: "–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –∞—Ç–æ–º–Ω—ã–µ —Ä–µ–∞–∫—Ç–æ—Ä—ã —Ä–∞—Å—Å—á–∏—Ç–∞–Ω—ã –Ω–∞ 60 –ª–µ—Ç —Ä–∞–±–æ—Ç—ã —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –ø—Ä–æ–¥–ª–µ–Ω–∏—è —Å—Ä–æ–∫–∞ —Å–ª—É–∂–±—ã!"
            },
            {
                question: "–í –∫–∞–∫–æ–º –≥–æ–¥—É –±—ã–ª–∞ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∞ –ø–µ—Ä–≤–∞—è –ê–≠–° –≤ –†–æ—Å—Å–∏–∏ (—Ç–æ–≥–¥–∞ –°–°–°–†)?",
                answers: ["1954", "1964", "1974", "1984"],
                correct: 0,
                fact: "–û–±–Ω–∏–Ω—Å–∫–∞—è –ê–≠–° –Ω–∞—á–∞–ª–∞ —Ä–∞–±–æ—Ç—É –≤ 1954 –≥–æ–¥—É. –ï–µ –º–æ—â–Ω–æ—Å—Ç—å —Å–æ—Å—Ç–∞–≤–ª—è–ª–∞ –≤—Å–µ–≥–æ 5 –ú–í—Ç!"
            },
            {
                question: "–ö–∞–∫–æ–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ –ê–≠–° –ø–µ—Ä–µ–¥ —Ç–µ–ø–ª–æ–≤—ã–º–∏ —ç–ª–µ–∫—Ç—Ä–æ—Å—Ç–∞–Ω—Ü–∏—è–º–∏?",
                answers: ["–ù–µ—Ç –≤—ã–±—Ä–æ—Å–æ–≤ CO2", "–î–µ—à–µ–≤–ª–µ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–æ", "–ù–µ —Ç—Ä–µ–±—É–µ—Ç –≤–æ–¥—ã", "–ë—ã—Å—Ç—Ä–µ–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è"],
                correct: 0,
                fact: "–ê–≠–° –Ω–µ –ø—Ä–æ–∏–∑–≤–æ–¥—è—Ç –≤—ã–±—Ä–æ—Å–æ–≤ –ø–∞—Ä–Ω–∏–∫–æ–≤—ã—Ö –≥–∞–∑–æ–≤ –≤–æ –≤—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã, —á—Ç–æ –¥–µ–ª–∞–µ—Ç –∏—Ö —ç–∫–æ–ª–æ–≥–∏—á–µ—Å–∫–∏ —á–∏—Å—Ç—ã–º–∏!"
            },
            {
                question: "–ü–µ—Ä–≤—ã–π —ç–Ω–µ—Ä–≥–æ–±–ª–æ–∫ –∫–∞–∫–æ–π –ê–≠–° –¥–∞–ª —Ç–æ–∫ –≤ –°–°–°–†?",
                answers: ["–û–±–Ω–∏–Ω—Å–∫–∞—è –ê–≠–°", "–õ–µ–Ω–∏–Ω–≥—Ä–∞–¥—Å–∫–∞—è –ê–≠–°", "–ö—É—Ä—Å–∫–∞—è –ê–≠–°", "–°–º–æ–ª–µ–Ω—Å–∫–∞—è –ê–≠–°"],
                correct: 0,
                fact: "–û–±–Ω–∏–Ω—Å–∫–∞—è –ê–≠–° (1954 –≥.) - –ø–µ—Ä–≤–∞—è –≤ –º–∏—Ä–µ –ê–≠–°!"
            },
            {
                question: "–°–∞–º–∞—è —Å–µ–≤–µ—Ä–Ω–∞—è –ê–≠–° –º–∏—Ä–∞?",
                answers: ["–ë–∏–ª–∏–±–∏–Ω—Å–∫–∞—è –ê–≠–°", "–ö–æ–ª—å—Å–∫–∞—è –ê–≠–°", "–õ–µ–Ω–∏–Ω–≥—Ä–∞–¥—Å–∫–∞—è –ê–≠–°", "–ö–∞–ª–∏–Ω–∏–Ω—Å–∫–∞—è –ê–≠–°"],
                correct: 0,
                fact: "–ë–∏–ª–∏–±–∏–Ω—Å–∫–∞—è –ê–≠–° —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ —É—Å–ª–æ–≤–∏—è—Ö –≤–µ—á–Ω–æ–π –º–µ—Ä–∑–ª–æ—Ç—ã!"
            },
            {
                question: "–ì–¥–µ –≤ –†–æ—Å—Å–∏–∏ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∞ –∫—Ä—É–ø–Ω–µ–π—à–∞—è —Å–æ–ª–Ω–µ—á–Ω–∞—è —ç–ª–µ–∫—Ç—Ä–æ—Å—Ç–∞–Ω—Ü–∏—è?",
                answers: ["–†–µ—Å–ø—É–±–ª–∏–∫–∞ –ö—Ä—ã–º", "–ö—Ä–∞—Å–Ω–æ–¥–∞—Ä—Å–∫–∏–π –∫—Ä–∞–π", "–°—Ç–∞–≤—Ä–æ–ø–æ–ª—å—Å–∫–∏–π –∫—Ä–∞–π", "–ê—Å—Ç—Ä–∞—Ö–∞–Ω—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å"],
                correct: 0,
                fact: "–í –ö—Ä—ã–º—É —Ä–∞–±–æ—Ç–∞–µ—Ç –±–æ–ª–µ–µ 10 —Å–æ–ª–Ω–µ—á–Ω—ã—Ö –ø–∞—Ä–∫–æ–≤!"
            },
            {
                question: "–ö–∞–∫–æ–π –≥–æ—Ä–æ–¥ –Ω–∞–∑—ã–≤–∞—é—Ç '–∞—Ç–æ–º–≥—Ä–∞–¥–æ–º' –∫—Ä–æ–º–µ –£–¥–æ–º–ª–∏?",
                answers: ["–°–æ—Å–Ω–æ–≤—ã–π –ë–æ—Ä", "–î—É–±–Ω–∞", "–ö–∏–º—Ä—ã", "–†–∂–µ–≤"],
                correct: 0,
                fact: "–°–æ—Å–Ω–æ–≤—ã–π –ë–æ—Ä - –¥–æ–º –õ–µ–Ω–∏–Ω–≥—Ä–∞–¥—Å–∫–æ–π –ê–≠–°!"
            },
            {
                question: "–ù–∞ –∫–∞–∫–æ–π —Ä–µ–∫–µ —Å—Ç–æ–∏—Ç –†—ã–±–∏–Ω—Å–∫–∞—è –ì–≠–°?",
                answers: ["–í–æ–ª–≥–∞", "–ï–Ω–∏—Å–µ–π", "–ê–Ω–≥–∞—Ä–∞", "–õ–µ–Ω–∞"],
                correct: 0,
                fact: "–†—ã–±–∏–Ω—Å–∫–∞—è –ì–≠–° - –≤–∞–∂–Ω—ã–π —É–∑–µ–ª –í–æ–ª–∂—Å–∫–æ-–ö–∞–º—Å–∫–æ–≥–æ –∫–∞—Å–∫–∞–¥–∞!"
            },
            {
                question: "–ö–∞–∫–æ–π —Ä–µ–≥–∏–æ–Ω –ª–∏–¥–∏—Ä—É–µ—Ç –ø–æ –≤–µ—Ç—Ä–æ—ç–Ω–µ—Ä–≥–µ—Ç–∏–∫–µ –≤ –†–æ—Å—Å–∏–∏?",
                answers: ["–†–æ—Å—Ç–æ–≤—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å", "–ú—É—Ä–º–∞–Ω—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å", "–ö–∞–ª–∏–Ω–∏–Ω–≥—Ä–∞–¥—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å", "–ü—Ä–∏–º–æ—Ä—Å–∫–∏–π –∫—Ä–∞–π"],
                correct: 0,
                fact: "–í –†–æ—Å—Ç–æ–≤—Å–∫–æ–π –æ–±–ª–∞—Å—Ç–∏ –ø–æ—Å—Ç—Ä–æ–µ–Ω—ã –∫—Ä—É–ø–Ω–µ–π—à–∏–µ –≤–µ—Ç—Ä–æ–ø–∞—Ä–∫–∏ –†–æ—Å—Å–∏–∏!"
            }
        ];

        // ========== –ü–ï–†–ï–ú–ï–ù–ù–´–ï –ò–ì–†–´ ==========
        let teams = [];
        let quizData = []; // –ë—É–¥–µ—Ç –∑–∞–ø–æ–ª–Ω–µ–Ω–∞ —Å–ª—É—á–∞–π–Ω—ã–º –ø–æ—Ä—è–¥–∫–æ–º
        let shuffledQuizData = []; // –î–∞–Ω–Ω—ã–µ —Å –ø–µ—Ä–µ–º–µ—à–∞–Ω–Ω—ã–º–∏ –æ—Ç–≤–µ—Ç–∞–º–∏
        let currentTeamIndex = 0;
        let currentQuestionIndex = 0;
        let scores = {};
        let timerInterval = null;
        let timeLeft = 40;
        let questionCountForCurrentTeam = 0;
        let questionsPerTeam = 6; // –ë—É–¥–µ—Ç –≤—ã—á–∏—Å–ª—è—Ç—å—Å—è
        let answeredWithin20Seconds = false;
        let bonusActive = true;

        // ========== –§–£–ù–ö–¶–ò–ò –ü–ï–†–ï–ú–ï–®–ò–í–ê–ù–ò–Ø ==========
        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–µ—Ä–µ–º–µ—à–∏–≤–∞–Ω–∏—è –º–∞—Å—Å–∏–≤–∞ (–∞–ª–≥–æ—Ä–∏—Ç–º –§–∏—à–µ—Ä–∞-–ô–µ—Ç—Å–∞)
        function shuffleArray(array) {
            const newArray = [...array];
            for (let i = newArray.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [newArray[i], newArray[j]] = [newArray[j], newArray[i]];
            }
            return newArray;
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–µ—Ä–µ–º–µ—à–∏–≤–∞–Ω–∏—è –æ—Ç–≤–µ—Ç–æ–≤ –≤ –≤–æ–ø—Ä–æ—Å–∞—Ö
        function prepareShuffledQuizData() {
            // –°–Ω–∞—á–∞–ª–∞ –ø–µ—Ä–µ–º–µ—à–∏–≤–∞–µ–º –ø–æ—Ä—è–¥–æ–∫ –≤–æ–ø—Ä–æ—Å–æ–≤
            const shuffledQuestions = shuffleArray([...originalQuizData]);
            
            // –ó–∞—Ç–µ–º –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –≤–æ–ø—Ä–æ—Å–∞ –ø–µ—Ä–µ–º–µ—à–∏–≤–∞–µ–º –æ—Ç–≤–µ—Ç—ã
            return shuffledQuestions.map(question => {
                // –°–æ–∑–¥–∞–µ–º –º–∞—Å—Å–∏–≤ –ø–∞—Ä [–æ—Ç–≤–µ—Ç, –∏–Ω–¥–µ–∫—Å]
                const answersWithIndex = question.answers.map((answer, index) => ({
                    answer,
                    originalIndex: index
                }));
                
                // –ü–µ—Ä–µ–º–µ—à–∏–≤–∞–µ–º –æ—Ç–≤–µ—Ç—ã
                const shuffledAnswersWithIndex = shuffleArray(answersWithIndex);
                
                // –ù–∞—Ö–æ–¥–∏–º –Ω–æ–≤—ã–π –∏–Ω–¥–µ–∫—Å –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –æ—Ç–≤–µ—Ç–∞
                let newCorrectIndex = 0;
                shuffledAnswersWithIndex.forEach((item, index) => {
                    if (item.originalIndex === question.correct) {
                        newCorrectIndex = index;
                    }
                });
                
                // –í–æ–∑–≤—Ä–∞—â–∞–µ–º –Ω–æ–≤—ã–π –æ–±—ä–µ–∫—Ç –≤–æ–ø—Ä–æ—Å–∞
                return {
                    question: question.question,
                    answers: shuffledAnswersWithIndex.map(item => item.answer),
                    correct: newCorrectIndex,
                    fact: question.fact
                };
            });
        }

        // ========== –§–£–ù–ö–¶–ò–Ø –†–ê–°–ü–†–ï–î–ï–õ–ï–ù–ò–Ø –í–û–ü–†–û–°–û–í ==========
        function distributeQuestions() {
            if (teams.length === 0) return;
            
            // –ü–µ—Ä–µ–º–µ—à–∏–≤–∞–µ–º –≤–æ–ø—Ä–æ—Å—ã
            shuffledQuizData = prepareShuffledQuizData();
            
            // –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–æ–ø—Ä–æ—Å–æ–≤ –Ω–∞ –∫–æ–º–∞–Ω–¥—É
            questionsPerTeam = Math.floor(shuffledQuizData.length / teams.length);
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ
            document.getElementById('totalQuestionsForTeam').textContent = questionsPerTeam;
            
            console.log(`–ö–æ–º–∞–Ω–¥: ${teams.length}, –í–æ–ø—Ä–æ—Å–æ–≤ –Ω–∞ –∫–æ–º–∞–Ω–¥—É: ${questionsPerTeam}, –í—Å–µ–≥–æ –≤–æ–ø—Ä–æ—Å–æ–≤: ${shuffledQuizData.length}`);
        }

        // ========== –ó–ê–ì–†–£–ó–ö–ê –ö–û–ú–ê–ù–î ==========
        function loadTeamsFromStorage() {
            const possibleKeys = ['energyQuizTeams', 'energyTeams', 'quizTeams', 'teams'];
            
            let loadedTeams = null;
            
            for (const key of possibleKeys) {
                const savedTeams = localStorage.getItem(key);
                if (savedTeams) {
                    try {
                        loadedTeams = JSON.parse(savedTeams);
                        break;
                    } catch (e) {
                        console.log(`–û—à–∏–±–∫–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞ –¥–ª—è –∫–ª—é—á–∞ ${key}:`, e);
                    }
                }
            }
            
            if (loadedTeams && Array.isArray(loadedTeams) && loadedTeams.length > 0) {
                teams = loadedTeams.map(team => {
                    if (typeof team === 'string') {
                        return {
                            name: team,
                            score: 0,
                            bonusCount: 0,
                            questionIndex: 0 // –ò–Ω–¥–µ–∫—Å —Ç–µ–∫—É—â–µ–≥–æ –≤–æ–ø—Ä–æ—Å–∞ –¥–ª—è –∫–æ–º–∞–Ω–¥—ã
                        };
                    }
                    else if (typeof team === 'object' && team !== null) {
                        return {
                            name: team.name || team.title || team.teamName || '–ö–æ–º–∞–Ω–¥–∞',
                            score: team.score || team.points || 0,
                            bonusCount: team.bonusCount || 0,
                            questionIndex: 0
                        };
                    }
                    else {
                        return {
                            name: '–ö–æ–º–∞–Ω–¥–∞',
                            score: 0,
                            bonusCount: 0,
                            questionIndex: 0
                        };
                    }
                });
                
                // –†–∞—Å–ø—Ä–µ–¥–µ–ª—è–µ–º –≤–æ–ø—Ä–æ—Å—ã
                distributeQuestions();
                
                document.getElementById('teamsStatus').innerHTML = 
                    `‚úÖ –ó–∞–≥—Ä—É–∂–µ–Ω–æ ${teams.length} –∫–æ–º–∞–Ω–¥!<br>
                     üìä ${shuffledQuizData.length} –≤–æ–ø—Ä–æ—Å–æ–≤ –≤—Å–µ–≥–æ<br>
                     üìù –ü–æ ${questionsPerTeam} –≤–æ–ø—Ä–æ—Å–æ–≤ –Ω–∞ –∫–æ–º–∞–Ω–¥—É`;
                
                document.getElementById('startBtn').disabled = false;
                
                setTimeout(() => {
                    document.getElementById('teamsMessage').style.display = 'none';
                }, 2000);
                
                return true;
            } else {
                document.getElementById('teamsStatus').innerHTML = 
                    `‚ö†Ô∏è –ö–æ–º–∞–Ω–¥—ã –Ω–µ –Ω–∞–π–¥–µ–Ω—ã.<br>
                     <button class="btn btn-warning" onclick="window.location.href='index.html'" 
                             style="margin-top: 15px; padding: 10px 20px;">
                        ‚û°Ô∏è –°–æ–∑–¥–∞—Ç—å –∫–æ–º–∞–Ω–¥—ã –Ω–∞ –≥–ª–∞–≤–Ω–æ–π
                     </button>`;
                document.getElementById('startBtn').disabled = true;
                return false;
            }
        }

        // ========== –§–£–ù–ö–¶–ò–ò –ò–ì–†–´ ==========
        function renderTeams() {
            const teamsGrid = document.getElementById('teamsGrid');
            teamsGrid.innerHTML = '';
            
            teams.forEach((team, index) => {
                const teamCard = document.createElement('div');
                teamCard.className = `team-card ${index === currentTeamIndex ? 'active' : ''}`;
                
                let bonusText = '';
                if (team.bonusCount > 0) {
                    bonusText = `<div style="font-size: 0.8em; color: #00ff88; margin-top: 5px;">
                        +${team.bonusCount} –±–æ–Ω—É—Å–æ–≤ –∑–∞ —Å–∫–æ—Ä–æ—Å—Ç—å
                    </div>`;
                }
                
                teamCard.innerHTML = `
                    <div class="team-name">${team.name}</div>
                    <div class="team-score">
                        ${team.score || 0} –±–∞–ª–ª–æ–≤
                        ${team.bonusCount > 0 ? '<span class="bonus-badge">‚ö°</span>' : ''}
                    </div>
                    ${bonusText}
                `;
                teamsGrid.appendChild(teamCard);
            });
        }

        function startGame() {
            if (teams.length < 2) {
                alert('–ù—É–∂–Ω–æ –º–∏–Ω–∏–º—É–º 2 –∫–æ–º–∞–Ω–¥—ã –¥–ª—è –Ω–∞—á–∞–ª–∞ –∏–≥—Ä—ã!');
                return;
            }
            
            document.getElementById('startBtn').style.display = 'none';
            document.getElementById('resetBtn').style.display = 'inline-block';
            document.getElementById('gameLayout').style.display = 'flex';
            
            // –û–±–Ω—É–ª—è–µ–º —Å—á–µ—Ç—á–∏–∫–∏
            teams.forEach(team => {
                team.score = 0;
                team.bonusCount = 0;
                team.questionIndex = 0;
            });
            scores = {};
            currentTeamIndex = 0;
            currentQuestionIndex = 0;
            questionCountForCurrentTeam = 0;
            bonusActive = true;
            
            // –ü–µ—Ä–µ–º–µ—à–∏–≤–∞–µ–º –≤–æ–ø—Ä–æ—Å—ã –∑–∞–Ω–æ–≤–æ
            shuffledQuizData = prepareShuffledQuizData();
            distributeQuestions();
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ
            document.getElementById('totalQuestionsForTeam').textContent = questionsPerTeam;
            
            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥
            renderTeams();
            
            // –ù–∞—á–∏–Ω–∞–µ–º –ø–µ—Ä–≤—ã–π –≤–æ–ø—Ä–æ—Å
            showNextQuestion();
        }

        function showNextQuestion() {
            clearInterval(timerInterval);
            
            // –°–∫—Ä—ã–≤–∞–µ–º –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –±–æ–Ω—É—Å–∞
            document.getElementById('bonusIndicator').style.display = 'none';
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –≤—Å–µ –ª–∏ –∫–æ–º–∞–Ω–¥—ã –æ—Ç–≤–µ—Ç–∏–ª–∏ –Ω–∞ —Å–≤–æ–∏ –≤–æ–ø—Ä–æ—Å—ã
            let allTeamsFinished = true;
            for (const team of teams) {
                if (team.questionIndex < questionsPerTeam) {
                    allTeamsFinished = false;
                    break;
                }
            }
            
            if (allTeamsFinished) {
                finishGame();
                return;
            }
            
            // –ù–∞—Ö–æ–¥–∏–º —Å–ª–µ–¥—É—é—â—É—é –∫–æ–º–∞–Ω–¥—É, —É –∫–æ—Ç–æ—Ä–æ–π –µ—â–µ –µ—Å—Ç—å –≤–æ–ø—Ä–æ—Å—ã
            let foundTeam = false;
            for (let i = 0; i < teams.length; i++) {
                const teamIndex = (currentTeamIndex + i) % teams.length;
                if (teams[teamIndex].questionIndex < questionsPerTeam) {
                    currentTeamIndex = teamIndex;
                    foundTeam = true;
                    break;
                }
            }
            
            if (!foundTeam) {
                finishGame();
                return;
            }
            
            // –í—ã—á–∏—Å–ª—è–µ–º –≥–ª–æ–±–∞–ª—å–Ω—ã–π –∏–Ω–¥–µ–∫—Å –≤–æ–ø—Ä–æ—Å–∞ –¥–ª—è —Ç–µ–∫—É—â–µ–π –∫–æ–º–∞–Ω–¥—ã
            const globalQuestionIndex = currentTeamIndex * questionsPerTeam + teams[currentTeamIndex].questionIndex;
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å—Ç—å –ª–∏ –µ—â–µ –≤–æ–ø—Ä–æ—Å—ã
            if (globalQuestionIndex >= shuffledQuizData.length) {
                finishGame();
                return;
            }
            
            // –ü–æ–ª—É—á–∞–µ–º –≤–æ–ø—Ä–æ—Å
            const questionData = shuffledQuizData[globalQuestionIndex];
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ
            renderTeams();
            
            const currentTeam = teams[currentTeamIndex];
            document.getElementById('currentTeamName').textContent = currentTeam.name;
            document.getElementById('currentQuestionNum').textContent = currentTeam.questionIndex + 1;
            document.getElementById('questionText').innerHTML = questionData.question;
            
            // –û—Ç–æ–±—Ä–∞–∂–∞–µ–º –æ—Ç–≤–µ—Ç—ã
            const answersGrid = document.getElementById('answersGrid');
            answersGrid.innerHTML = '';
            
            questionData.answers.forEach((answer, index) => {
                const answerBtn = document.createElement('button');
                answerBtn.className = 'answer-btn';
                answerBtn.textContent = answer;
                answerBtn.onclick = () => checkAnswer(index, globalQuestionIndex);
                answersGrid.appendChild(answerBtn);
            });
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –±–ª–æ–∫ –æ—Ç–≤–µ—Ç–æ–≤
            document.getElementById('answersSection').style.display = 'block';
            document.getElementById('factContainer').style.display = 'none';
            document.getElementById('nextBtn').style.display = 'none';
            
            // –í–∫–ª—é—á–∞–µ–º –∫–Ω–æ–ø–∫—É –ø—Ä–æ–ø—É—Å–∫–∞
            document.getElementById('skipBtn').disabled = false;
            
            // –°–±—Ä–∞—Å—ã–≤–∞–µ–º —Ñ–ª–∞–≥ —Å–∫–æ—Ä–æ—Å—Ç–∏
            answeredWithin20Seconds = false;
            bonusActive = true;
            
            // –ó–∞–ø—É—Å–∫–∞–µ–º —Ç–∞–π–º–µ—Ä
            startTimer();
        }

        function startTimer() {
            timeLeft = 40;
            document.getElementById('timerDisplay').textContent = timeLeft;
            document.getElementById('timerDisplay').classList.remove('timer-warning');
            
            timerInterval = setInterval(() => {
                timeLeft--;
                document.getElementById('timerDisplay').textContent = timeLeft;
                
                if (timeLeft <= 10) {
                    document.getElementById('timerDisplay').classList.add('timer-warning');
                }
                
                // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –ø—Ä–æ—à–ª–æ –ª–∏ 20 —Å–µ–∫—É–Ω–¥ (–¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –±–æ–Ω—É—Å–∞)
                if (timeLeft === 20 && bonusActive) {
                    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –±–æ–Ω—É—Å–∞
                    document.getElementById('bonusIndicator').style.display = 'block';
                }
                
                if (timeLeft <= 0) {
                    clearInterval(timerInterval);
                    timeUp();
                }
            }, 1000);
        }

        function timeUp() {
            const answerBtns = document.querySelectorAll('.answer-btn');
            answerBtns.forEach(btn => btn.disabled = true);
            
            const globalQuestionIndex = currentTeamIndex * questionsPerTeam + teams[currentTeamIndex].questionIndex;
            const questionData = shuffledQuizData[globalQuestionIndex];
            highlightCorrectAnswer(questionData.correct);
            showFact(questionData.fact);
            
            document.getElementById('skipBtn').disabled = true;
            document.getElementById('bonusIndicator').style.display = 'none';
            
            // –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º —Å—á–µ—Ç—á–∏–∫ –≤–æ–ø—Ä–æ—Å–æ–≤ –¥–ª—è –∫–æ–º–∞–Ω–¥—ã
            teams[currentTeamIndex].questionIndex++;
        }

        function checkAnswer(selectedIndex, globalQuestionIndex) {
            clearInterval(timerInterval);
            const answerBtns = document.querySelectorAll('.answer-btn');
            answerBtns.forEach(btn => btn.disabled = true);
            
            const questionData = shuffledQuizData[globalQuestionIndex];
            const isCorrect = selectedIndex === questionData.correct;
            const currentTeam = teams[currentTeamIndex];
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –æ—Ç–≤–µ—Ç–∏–ª–∏ –ª–∏ –≤ –ø–µ—Ä–≤—ã–µ 20 —Å–µ–∫—É–Ω–¥
            const timeElapsed = 40 - timeLeft;
            answeredWithin20Seconds = timeElapsed <= 20;
            
            highlightAnswers(selectedIndex, questionData.correct);
            
            if (isCorrect) {
                // –ë–∞–∑–æ–≤—ã–π –±–∞–ª–ª
                let points = 1;
                let bonusPoints = 0;
                
                // –ë–æ–Ω—É—Å –∑–∞ —Å–∫–æ—Ä–æ—Å—Ç—å
                if (answeredWithin20Seconds && bonusActive) {
                    points += 1; // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –±–∞–ª–ª –∑–∞ –±—ã—Å—Ç—Ä—ã–π –æ—Ç–≤–µ—Ç
                    bonusPoints = 1;
                    currentTeam.bonusCount = (currentTeam.bonusCount || 0) + 1;
                    
                    // –ê–Ω–∏–º–∞—Ü–∏—è –±–æ–Ω—É—Å–∞
                    document.getElementById('bonusIndicator').classList.add('bonus-animation');
                    setTimeout(() => {
                        document.getElementById('bonusIndicator').classList.remove('bonus-animation');
                    }, 1500);
                }
                
                scores[currentTeam.name] = (scores[currentTeam.name] || 0) + points;
                currentTeam.score = scores[currentTeam.name];
                
                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –æ –±–æ–Ω—É—Å–µ
                if (bonusPoints > 0) {
                    document.getElementById('bonusIndicator').innerHTML = 
                        `üéâ +${points} –±–∞–ª–ª–∞ (1+${bonusPoints} –∑–∞ —Å–∫–æ—Ä–æ—Å—Ç—å!)`;
                    document.getElementById('bonusIndicator').style.display = 'block';
                }
            }
            
            showFact(questionData.fact);
            document.getElementById('skipBtn').disabled = true;
            bonusActive = false;
            
            // –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º —Å—á–µ—Ç—á–∏–∫ –≤–æ–ø—Ä–æ—Å–æ–≤ –¥–ª—è –∫–æ–º–∞–Ω–¥—ã
            currentTeam.questionIndex++;
        }

        function highlightAnswers(selected, correct) {
            const answerBtns = document.querySelectorAll('.answer-btn');
            answerBtns.forEach((btn, index) => {
                if (index === correct) {
                    btn.classList.add('correct');
                } else if (index === selected) {
                    btn.classList.add('incorrect');
                }
            });
        }

        function highlightCorrectAnswer(correctIndex) {
            const answerBtns = document.querySelectorAll('.answer-btn');
            answerBtns[correctIndex].classList.add('correct');
        }

        function showFact(fact) {
            document.getElementById('factText').textContent = fact;
            document.getElementById('factContainer').style.display = 'block';
            document.getElementById('nextBtn').style.display = 'block';
        }

        function skipQuestion() {
            clearInterval(timerInterval);
            
            const answerBtns = document.querySelectorAll('.answer-btn');
            answerBtns.forEach(btn => btn.disabled = true);
            
            const globalQuestionIndex = currentTeamIndex * questionsPerTeam + teams[currentTeamIndex].questionIndex;
            const questionData = shuffledQuizData[globalQuestionIndex];
            highlightCorrectAnswer(questionData.correct);
            showFact(questionData.fact);
            
            document.getElementById('skipBtn').disabled = true;
            document.getElementById('bonusIndicator').style.display = 'none';
            
            // –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º —Å—á–µ—Ç—á–∏–∫ –≤–æ–ø—Ä–æ—Å–æ–≤ –¥–ª—è –∫–æ–º–∞–Ω–¥—ã
            teams[currentTeamIndex].questionIndex++;
        }

        function nextQuestion() {
            showNextQuestion();
        }

        function finishGame() {
            clearInterval(timerInterval);
            
            const sortedTeams = [...teams].sort((a, b) => b.score - a.score);
            
            let resultsHTML = `<div style="text-align: center; padding: 30px;">
                <h2 style="color: #FFD700; font-size: 2.5em; margin-bottom: 30px;">üèÜ –í–ò–ö–¢–û–†–ò–ù–ê –ó–ê–í–ï–†–®–ï–ù–ê!</h2>
                <h3 style="color: #4FC3F7; font-size: 2em; margin-bottom: 20px;">–ü–û–ë–ï–î–ò–¢–ï–õ–¨:</h3>
                <div style="font-size: 3em; color: #FFD700; margin: 20px 0;">${sortedTeams[0].name}</div>
                <div style="font-size: 2em; color: #00ff88;">
                    ${sortedTeams[0].score || 0} –±–∞–ª–ª–æ–≤
                    ${sortedTeams[0].bonusCount > 0 ? `<div style="font-size: 0.8em; color: #FFD700;">(+${sortedTeams[0].bonusCount} –∑–∞ —Å–∫–æ—Ä–æ—Å—Ç—å)</div>` : ''}
                </div>`;
            
            if (sortedTeams.length > 1) {
                resultsHTML += `<div style="margin-top: 40px;">
                    <h4 style="color: #E0E0E0; font-size: 1.5em; margin-bottom: 20px;">–í–°–ï –ö–û–ú–ê–ù–î–´:</h4>`;
                
                sortedTeams.forEach((team, index) => {
                    resultsHTML += `<div style="
                        background: rgba(255,255,255,0.05);
                        padding: 15px;
                        margin: 10px 0;
                        border-radius: 10px;
                        font-size: 1.3em;
                        display: flex;
                        justify-content: space-between;
                        align-items: center;
                    ">
                        <div>
                            <span style="font-weight: bold; color: ${index === 0 ? '#FFD700' : '#4FC3F7'}">
                                ${index + 1}. ${team.name}
                            </span>
                            ${team.bonusCount > 0 ? 
                                `<div style="font-size: 0.8em; color: #00ff88;">+${team.bonusCount} –±–æ–Ω—É—Å–æ–≤ –∑–∞ —Å–∫–æ—Ä–æ—Å—Ç—å</div>` 
                                : ''}
                        </div>
                        <span style="color: #FFD700; font-weight: bold;">${team.score || 0} –±–∞–ª–ª–æ–≤</span>
                    </div>`;
                });
                
                resultsHTML += `</div>`;
            }
            
            resultsHTML += `<div style="margin-top: 40px;">
                <button class="btn btn-warning" onclick="resetGame()" 
                       style="margin: 10px; padding: 20px 40px; font-size: 1.5em;">
                    üîÑ –ù–æ–≤–∞—è –∏–≥—Ä–∞
                </button>
                <button class="btn btn-primary" onclick="window.location.href='index.html'" 
                       style="margin: 10px; padding: 20px 40px; font-size: 1.5em;">
                    üè† –ù–∞ –≥–ª–∞–≤–Ω—É—é
                </button>
            </div></div>`;
            
            document.querySelector('.question-section').innerHTML = resultsHTML;
            document.getElementById('answersSection').style.display = 'none';
            document.getElementById('factContainer').style.display = 'none';
            document.getElementById('nextBtn').style.display = 'none';
            document.getElementById('skipBtn').disabled = true;
            document.getElementById('bonusIndicator').style.display = 'none';
        }

        function resetGame() {
            // –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ–º –∫–æ–º–∞–Ω–¥—ã
            loadTeamsFromStorage();
            
            // –°–±—Ä–∞—Å—ã–≤–∞–µ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
            document.getElementById('startBtn').style.display = 'inline-block';
            document.getElementById('resetBtn').style.display = 'none';
            document.getElementById('gameLayout').style.display = 'none';
            document.getElementById('teamsMessage').style.display = 'block';
            
            // –°–±—Ä–∞—Å—ã–≤–∞–µ–º –∏–≥—Ä–æ–≤–æ–µ –ø–æ–ª–µ
            document.querySelector('.question-section').innerHTML = 
                '<div class="question-text" id="questionText">–ì–û–¢–û–í–´ –ö –í–ò–ö–¢–û–†–ò–ù–ï?</div>';
            document.getElementById('answersSection').style.display = 'none';
            document.getElementById('factContainer').style.display = 'none';
            document.getElementById('nextBtn').style.display = 'none';
        }

        // –ó–∞–≥—Ä—É–∂–∞–µ–º –∫–æ–º–∞–Ω–¥—ã –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ
        window.onload = function() {
            loadTeamsFromStorage();
        };
    </script>
</body>
</html>
