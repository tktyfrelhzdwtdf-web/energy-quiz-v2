<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–£–≥–∞–¥–∞–π —Ç–µ—Ä–º–∏–Ω! - –≠–Ω–µ—Ä–≥–µ—Ç–∏—á–µ—Å–∫–∞—è –≤–∏–∫—Ç–æ—Ä–∏–Ω–∞</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #0c0c0c 0%, #1a1a2e 50%, #16213e 100%);
            color: #fff;
            min-height: 100vh;
            overflow-x: hidden;
            padding-bottom: 20px;
        }

        .container {
            max-width: 1800px;
            margin: 0 auto;
            padding: 20px;
        }

        /* –ó–ê–ì–û–õ–û–í–û–ö */
        .header {
            text-align: center;
            margin-bottom: 30px;
            padding: 20px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 20px;
            border: 3px solid #FFD700;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 15px;
            background: linear-gradient(45deg, #FFD700, #FFA500);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
        }

        .header h1 .emoji-icon {
            background: none;
            -webkit-text-fill-color: initial;
            filter: drop-shadow(0 0 5px rgba(255, 215, 0, 0.5));
        }

        .header p {
            font-size: 1.1em;
            color: #ccc;
            max-width: 900px;
            margin: 0 auto 15px;
            line-height: 1.5;
        }

        /* –ì–û–†–ò–ó–û–ù–¢–ê–õ–¨–ù–´–ô –ú–ê–ö–ï–¢ */
        .game-layout {
            display: flex;
            gap: 30px;
            min-height: 700px;
        }

        @media (max-width: 1200px) {
            .game-layout {
                flex-direction: column;
            }
        }

        /* –õ–ï–í–ê–Ø –ö–û–õ–û–ù–ö–ê - –ö–û–ú–ê–ù–î–´ –ò –£–ü–†–ê–í–õ–ï–ù–ò–ï */
        .left-column {
            flex: 0 0 400px;
            display: flex;
            flex-direction: column;
            gap: 25px;
        }

        /* –ë–õ–û–ö –ö–û–ú–ê–ù–î */
        .teams-section {
            background: rgba(0, 0, 0, 0.4);
            padding: 20px;
            border-radius: 15px;
            border: 2px solid rgba(0, 255, 136, 0.3);
            backdrop-filter: blur(5px);
            box-shadow: 0 8px 32px rgba(0, 255, 136, 0.1);
        }

        .teams-section h2 {
            color: #00ff88;
            font-size: 1.8em;
            margin-bottom: 20px;
            text-align: center;
            text-shadow: 0 2px 4px rgba(0,0,0,0.3);
        }

        .teams-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 15px;
        }

        .team-card {
            background: rgba(255, 255, 255, 0.05);
            padding: 15px;
            border-radius: 10px;
            border: 2px solid transparent;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .team-card.active {
            border-color: #FFD700;
            background: rgba(255, 215, 0, 0.1);
            transform: translateX(5px);
        }

        .team-icon {
            font-size: 1.8em;
            width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
        }

        .team-info {
            flex: 1;
        }

        .team-name {
            font-size: 1.2em;
            font-weight: bold;
            color: #4FC3F7;
            margin-bottom: 5px;
        }

        .team-score {
            font-size: 1.1em;
            color: #FFD700;
            font-weight: bold;
        }

        /* –¢–ê–ô–ú–ï–† */
        .timer-section {
            background: rgba(0, 0, 0, 0.4);
            padding: 20px;
            border-radius: 15px;
            border: 2px solid rgba(79, 195, 247, 0.3);
            text-align: center;
            backdrop-filter: blur(5px);
        }

        .timer-section h3 {
            color: #4FC3F7;
            font-size: 1.5em;
            margin-bottom: 15px;
        }

        .timer-display {
            font-size: 3.5em;
            font-weight: bold;
            color: #00ff88;
            margin: 10px 0;
            font-family: 'Courier New', monospace;
            text-shadow: 0 0 10px rgba(0, 255, 136, 0.5);
        }

        .timer-display.warning {
            color: #ffaa00;
            animation: pulse 1s infinite;
        }

        .timer-display.danger {
            color: #ff4444;
            animation: pulse 0.5s infinite;
        }

        .timer-bar {
            width: 100%;
            height: 10px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 5px;
            overflow: hidden;
            margin: 15px 0;
        }

        .timer-progress {
            height: 100%;
            background: linear-gradient(90deg, #00ff88, #00b4db);
            width: 100%;
            transition: width 1s linear;
        }

        /* –ò–ù–§–û–†–ú–ê–¶–ò–Ø –û –ö–û–ú–ê–ù–î–ï */
        .team-info-section {
            background: rgba(0, 0, 0, 0.4);
            padding: 20px;
            border-radius: 15px;
            border: 2px solid rgba(255, 215, 0, 0.3);
            text-align: center;
            backdrop-filter: blur(5px);
        }

        .team-info-section h3 {
            color: #FFD700;
            font-size: 1.5em;
            margin-bottom: 15px;
        }

        .current-team-info {
            font-size: 1.2em;
        }

        /* –ü–†–ê–í–ê–Ø –ö–û–õ–û–ù–ö–ê - –ò–ì–†–û–í–ê–Ø –ß–ê–°–¢–¨ */
        .right-column {
            flex: 1;
            display: flex;
            flex-direction: column;
            gap: 25px;
        }

        /* –ë–õ–û–ö –í–û–ü–†–û–°–ê */
        .question-section {
            background: rgba(0, 0, 0, 0.4);
            padding: 30px;
            border-radius: 15px;
            border: 2px solid rgba(255, 215, 0, 0.3);
            text-align: center;
            backdrop-filter: blur(5px);
            min-height: 200px;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        .question-text {
            font-size: 2em;
            font-weight: bold;
            color: #FFD700;
            line-height: 1.4;
            margin-bottom: 15px;
            text-shadow: 0 2px 4px rgba(0,0,0,0.3);
            min-height: 120px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .category-badge {
            display: inline-block;
            background: rgba(0, 180, 219, 0.2);
            color: #00b4db;
            padding: 8px 20px;
            border-radius: 25px;
            font-size: 1em;
            border: 1px solid rgba(0, 180, 219, 0.3);
        }

        /* –í–í–û–î –û–¢–í–ï–¢–ê */
        .answer-section {
            background: rgba(0, 0, 0, 0.4);
            padding: 25px;
            border-radius: 15px;
            border: 2px solid rgba(0, 180, 219, 0.3);
            text-align: center;
            backdrop-filter: blur(5px);
        }

        .answer-input {
            padding: 20px;
            font-size: 1.5em;
            width: 100%;
            max-width: 600px;
            border: 3px solid #00b4db;
            border-radius: 15px;
            background: rgba(255, 255, 255, 0.1);
            color: white;
            text-align: center;
            margin-bottom: 20px;
            transition: all 0.3s ease;
        }

        .answer-input:focus {
            outline: none;
            border-color: #00ff88;
            box-shadow: 0 0 20px rgba(0, 255, 136, 0.3);
            transform: scale(1.02);
        }

        .answer-input.correct {
            border-color: #00ff88;
            background: rgba(0, 255, 136, 0.1);
        }

        .answer-input.incorrect {
            border-color: #ff4444;
            background: rgba(255, 68, 68, 0.1);
        }

        /* –ö–ù–û–ü–ö–ò –£–ü–†–ê–í–õ–ï–ù–ò–Ø */
        .game-controls {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin-top: 20px;
            flex-wrap: wrap;
        }

        .btn {
            padding: 15px 30px;
            border: none;
            border-radius: 12px;
            font-size: 1.1em;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            min-width: 200px;
        }

        .btn-primary {
            background: linear-gradient(45deg, #4FC3F7, #29B6F6);
            color: white;
        }

        .btn-success {
            background: linear-gradient(45deg, #00ff88, #00cc66);
            color: white;
        }

        .btn-warning {
            background: linear-gradient(45deg, #ffaa00, #ff8800);
            color: white;
        }

        .btn-danger {
            background: linear-gradient(45deg, #ff4444, #ff6b6b);
            color: white;
        }

        .btn:hover:not(:disabled) {
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(0, 180, 219, 0.3);
        }

        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none !important;
        }

        /* –†–ï–ó–£–õ–¨–¢–ê–¢–´ */
        .result-section {
            background: rgba(0, 0, 0, 0.4);
            padding: 20px;
            border-radius: 15px;
            margin-top: 20px;
            display: none;
            animation: fadeIn 0.5s ease;
        }

        .result-correct {
            border: 2px solid #00ff88;
            color: #00ff88;
        }

        .result-wrong {
            border: 2px solid #ff4444;
            color: #ff4444;
        }

        .result-content {
            font-size: 1.3em;
            text-align: center;
            line-height: 1.5;
        }

        .result-content strong {
            font-size: 1.5em !important;
            color: #FFD700;
            display: block;
            margin: 10px 0;
        }

        /* –ê–ù–ò–ú–ê–¶–ò–ò */
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes slideIn {
            from { 
                opacity: 0;
                transform: translateX(-20px);
            }
            to { 
                opacity: 1;
                transform: translateX(0);
            }
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        /* –ê–î–ê–ü–¢–ò–í–ù–û–°–¢–¨ */
        @media (max-width: 1200px) {
            .left-column {
                flex: 0 0 350px;
            }
        }

        @media (max-width: 992px) {
            .game-layout {
                flex-direction: column;
            }
            
            .left-column {
                flex: none;
                width: 100%;
            }
            
            .question-text {
                font-size: 1.6em;
            }
            
            .btn {
                min-width: 170px;
                padding: 12px 25px;
            }
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 2em;
            }
            
            .question-text {
                font-size: 1.4em;
            }
            
            .timer-display {
                font-size: 2.8em;
            }
            
            .btn {
                width: 100%;
                max-width: 300px;
            }
            
            .game-controls {
                flex-direction: column;
                align-items: center;
            }
            
            .teams-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .answer-input {
                font-size: 1.2em;
                padding: 15px;
            }
        }

        @media (max-width: 480px) {
            .teams-grid {
                grid-template-columns: 1fr;
            }
            
            .question-text {
                font-size: 1.2em;
            }
            
            .timer-display {
                font-size: 2.2em;
            }
            
            .answer-input {
                font-size: 1.1em;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- –®–∞–ø–∫–∞ -->
        <div class="header">
            <h1><span class="emoji-icon">‚ùì</span> –£–ì–ê–î–ê–ô –¢–ï–†–ú–ò–ù!</h1>
            <p>50 —Å–µ–∫—É–Ω–¥ –Ω–∞ –æ—Ç–≤–µ—Ç! 2 –±–∞–ª–ª–∞ –∑–∞ –±—ã—Å—Ç—Ä—ã–π –æ—Ç–≤–µ—Ç (–ø–µ—Ä–≤—ã–µ 25 —Å–µ–∫), 1 –±–∞–ª–ª –∑–∞ –ø–æ–∑–¥–Ω–∏–π –æ—Ç–≤–µ—Ç.</p>
            <div class="game-controls">
                <button class="btn btn-primary" onclick="window.location.href='index.html'">
                    ‚Üê –ù–∞ –≥–ª–∞–≤–Ω—É—é
                </button>
                <button class="btn btn-success" id="startGameBtn" onclick="startGame()">
                    üöÄ –ù–∞—á–∞—Ç—å –∏–≥—Ä—É
                </button>
            </div>
        </div>

        <!-- –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–π –º–∞–∫–µ—Ç -->
        <div class="game-layout">
            <!-- –õ–µ–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞: –ö–æ–º–∞–Ω–¥—ã –∏ —Ç–∞–π–º–µ—Ä -->
            <div class="left-column">
                <!-- –ë–ª–æ–∫ –∫–æ–º–∞–Ω–¥ -->
                <div class="teams-section">
                    <h2>üë• –ö–û–ú–ê–ù–î–´</h2>
                    <div class="teams-grid" id="teamsGrid">
                        <!-- –ö–æ–º–∞–Ω–¥—ã –∑–∞–≥—Ä—É–∑—è—Ç—Å—è –∏–∑ JS -->
                    </div>
                </div>

                <!-- –¢–∞–π–º–µ—Ä -->
                <div class="timer-section" id="timerSection" style="display: none;">
                    <h3>‚è±Ô∏è –¢–ê–ô–ú–ï–†</h3>
                    <div class="timer-display" id="timerDisplay">50</div>
                    <div>—Å–µ–∫—É–Ω–¥ –Ω–∞ –æ—Ç–≤–µ—Ç</div>
                    <div class="timer-bar">
                        <div class="timer-progress" id="timerBar"></div>
                    </div>
                    <div style="color: #ccc; margin-top: 10px; font-size: 0.9em;">
                        ‚ö° 2 –±–∞–ª–ª–∞ –∑–∞ –±—ã—Å—Ç—Ä—ã–π –æ—Ç–≤–µ—Ç (–ø–µ—Ä–≤—ã–µ 25 —Å–µ–∫)
                    </div>
                </div>

                <!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–æ–º–∞–Ω–¥–µ -->
                <div class="team-info-section" id="teamInfoSection" style="display: none;">
                    <h3>üéØ –¢–ï–ö–£–©–ò–ô –•–û–î</h3>
                    <div class="current-team-info" id="currentTeamInfo">
                        <div style="font-size: 1.3em; color: #FFD700; margin-bottom: 8px;">
                            –û—Ç–≤–µ—á–∞–µ—Ç: <span id="currentTeamNameDisplay">–ö–æ–º–∞–Ω–¥–∞ 1</span>
                        </div>
                        <div style="font-size: 1.1em; color: #4FC3F7;">
                            –í–æ–ø—Ä–æ—Å: <span id="currentQuestionNumber">1</span>/<span id="totalTeamQuestions">5</span>
                        </div>
                        <div style="font-size: 1.1em; color: #00ff88; margin-top: 10px;">
                            –ë–∞–ª–ª–æ–≤: <span id="teamScoreDisplay">0</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- –ü—Ä–∞–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞: –ò–≥—Ä–æ–≤–∞—è —á–∞—Å—Ç—å -->
            <div class="right-column">
                <!-- –í–æ–ø—Ä–æ—Å -->
                <div class="question-section" id="questionSection" style="display: none;">
                    <div class="question-text" id="questionText">
                        –í–æ–ø—Ä–æ—Å –ø–æ—è–≤–∏—Ç—Å—è –∑–¥–µ—Å—å...
                    </div>
                    <div class="category-badge" id="categoryBadge">
                        –ö–∞—Ç–µ–≥–æ—Ä–∏—è: ???
                    </div>
                </div>

                <!-- –í–≤–æ–¥ –æ—Ç–≤–µ—Ç–∞ -->
                <div class="answer-section" id="answerSection" style="display: none;">
                    <input type="text" 
                           id="answerInput" 
                           class="answer-input" 
                           placeholder="–í–≤–µ–¥–∏—Ç–µ —Ç–µ—Ä–º–∏–Ω..." 
                           onkeypress="if(event.key === 'Enter') checkAnswer()"
                           autocomplete="off"
                           disabled>
                    
                    <div class="game-controls" id="gameButtons" style="display: none;">
                        <button class="btn btn-success" onclick="checkAnswer()" id="checkBtn" disabled>
                            ‚úÖ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç–≤–µ—Ç
                        </button>
                        <button class="btn btn-danger" onclick="skipQuestion()" id="skipBtn" disabled>
                            ‚è≠Ô∏è –ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å
                        </button>
                    </div>
                </div>

                <!-- –†–µ–∑—É–ª—å—Ç–∞—Ç -->
                <div class="result-section" id="resultSection"></div>

                <!-- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ö–æ–¥–æ–º -->
                <div class="game-controls" id="navigationButtons" style="display: none;">
                    <button class="btn btn-primary" onclick="nextTerm()" id="nextTermBtn">
                        ‚û°Ô∏è –°–ª–µ–¥—É—é—â–∏–π —Ç–µ—Ä–º–∏–Ω
                    </button>
                    <button class="btn btn-warning" onclick="nextTeam()" id="nextTeamBtn">
                        üë• –°–ª–µ–¥—É—é—â–∞—è –∫–æ–º–∞–Ω–¥–∞
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // ========== –í–û–ü–†–û–°–´ ==========
        const energyTerms = [
            // –°–ï–†–ò–Ø 1: –ö–æ–º–∞–Ω–¥–∞ 1 (–≤–æ–ø—Ä–æ—Å—ã 1-5 –¥–ª—è 4 –∫–æ–º–∞–Ω–¥, 1-10 –¥–ª—è 2 –∫–æ–º–∞–Ω–¥)
            {
                term: "–û–¢–í–Å–†–¢–ö–ê",
                variants: ["–û–¢–í–ï–†–¢–ö–ê", "–û–¢–í–Å–†–¢–ö–ê"],
                category: "–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã",
                description: "–ë—ã–≤–∞–µ—Ç –∫—Ä–µ—Å—Ç–æ–≤–∞—è –∏ –ø–ª–æ—Å–∫–∞—è. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –∑–∞–∫—Ä—É—á–∏–≤–∞–Ω–∏—è –≤–∏–Ω—Ç–æ–≤."
            },
            {
                term: "–¢–≠–¶",
                category: "–≠–Ω–µ—Ä–≥–æ–æ–±—ä–µ–∫—Ç—ã",
                description: "–¢–µ–ø–ª–æ—ç–ª–µ–∫—Ç—Ä–æ—Ü–µ–Ω—Ç—Ä–∞–ª—å (3 –±—É–∫–≤—ã!). –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ —ç–ª–µ–∫—Ç—Ä–∏—á–µ—Å—Ç–≤–æ –∏ —Ç–µ–ø–ª–æ."
            },
            {
                term: "–†–ï–ó–ò–°–¢–û–†",
                category: "–≠–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∞",
                description: "–ü–∞—Å—Å–∏–≤–Ω—ã–π —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç. –ò–º–µ–µ—Ç —Ü–≤–µ—Ç–Ω—ã–µ –ø–æ–ª–æ—Å–∫–∏ –¥–ª—è –º–∞—Ä–∫–∏—Ä–æ–≤–∫–∏."
            },
            {
                term: "–î–ò–û–î",
                category: "–ü–æ–ª—É–ø—Ä–æ–≤–æ–¥–Ω–∏–∫–∏",
                description: "–ü—Ä–æ–ø—É—Å–∫–∞–µ—Ç —Ç–æ–∫ —Ç–æ–ª—å–∫–æ –≤ –æ–¥–Ω—É —Å—Ç–æ—Ä–æ–Ω—É. –°–≤–µ—Ç–æ–¥–∏–æ–¥ (LED) - –æ–¥–∏–Ω –∏–∑ –≤–∏–¥–æ–≤."
            },
            {
                term: "–¢–ï–°–¢–ï–†",
                variants: ["–¢–ï–°–¢–ï–†", "–ú–£–õ–¨–¢–ò–ú–ï–¢–†"],
                category: "–ò–∑–º–µ—Ä–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–∏–±–æ—Ä—ã",
                description: "–ò–∑–º–µ—Ä—è–µ—Ç –Ω–∞–ø—Ä—è–∂–µ–Ω–∏–µ, —Ç–æ–∫ –∏ —Å–æ–ø—Ä–æ—Ç–∏–≤–ª–µ–Ω–∏–µ. –ë—ã–≤–∞–µ—Ç —Ü–∏—Ñ—Ä–æ–≤–æ–π –∏ —Å—Ç—Ä–µ–ª–æ—á–Ω—ã–π."
            },
            {
                term: "–ê–≠–°",
                category: "–≠–Ω–µ—Ä–≥–æ–æ–±—ä–µ–∫—Ç—ã",
                description: "–ê—Ç–æ–º–Ω–∞—è —ç–ª–µ–∫—Ç—Ä–æ—Å—Ç–∞–Ω—Ü–∏—è (3 –±—É–∫–≤—ã!). –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —è–¥–µ—Ä–Ω—ã–µ —Ä–µ–∞–∫—Ü–∏–∏ –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞ —ç–Ω–µ—Ä–≥–∏–∏."
            },
            {
                term: "–ü–†–ï–î–û–•–†–ê–ù–ò–¢–ï–õ–¨",
                category: "–ó–∞—â–∏—Ç–∞",
                description: "–ó–∞—â–∏—â–∞–µ—Ç –æ—Ç –∫–æ—Ä–æ—Ç–∫–æ–≥–æ –∑–∞–º—ã–∫–∞–Ω–∏—è. –ü–µ—Ä–µ–≥–æ—Ä–∞–µ—Ç –ø—Ä–∏ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏ —Ç–æ–∫–∞."
            },
            {
                term: "–ü–ê–Ø–õ–¨–ù–ò–ö",
                category: "–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã",
                description: "–ù–∞–≥—Ä–µ–≤–∞–µ—Ç—Å—è –¥–ª—è –ø–∞–π–∫–∏. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –ø—Ä–∏–ø–æ–π –∏ —Ñ–ª—é—Å."
            },
            {
                term: "–ì–≠–°",
                category: "–≠–Ω–µ—Ä–≥–æ–æ–±—ä–µ–∫—Ç—ã",
                description: "–ì–∏–¥—Ä–æ—ç–ª–µ–∫—Ç—Ä–æ—Å—Ç–∞–Ω—Ü–∏—è (3 –±—É–∫–≤—ã!). –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —ç–Ω–µ—Ä–≥–∏—é –ø–∞–¥–∞—é—â–µ–π –≤–æ–¥—ã."
            },
            {
                term: "–ê–í–¢–û–ú–ê–¢",
                category: "–ó–∞—â–∏—Ç–∞",
                description: "–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –≤—ã–∫–ª—é—á–∞—Ç–µ–ª—å. –û—Ç–∫–ª—é—á–∞–µ—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–µ–≥—Ä—É–∑–∫–µ."
            },

            // –í–æ–ø—Ä–æ—Å—ã 11-20
            {
                term: "–ö–û–ù–¢–ê–ö–¢",
                category: "–°–æ–µ–¥–∏–Ω–µ–Ω–∏—è",
                description: "–ú–µ—Å—Ç–æ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –ø—Ä–æ–≤–æ–¥–Ω–∏–∫–æ–≤. –ë—ã–≤–∞–µ—Ç —Ä–∞–∑—ä—ë–º–Ω—ã–π –∏ –Ω–µ—Ä–∞–∑—ä—ë–º–Ω—ã–π."
            },
            {
                term: "–°–û–ï–î–ò–ù–ï–ù–ò–ï",
                category: "–≠–ª–µ–∫—Ç—Ä–∏—á–µ—Å–∫–∏–µ —Ü–µ–ø–∏",
                description: "–ë—ã–≤–∞–µ—Ç –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–µ –∏ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ–µ. –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç –∫–∞–∫ —Ç–µ—á—ë—Ç —Ç–æ–∫ –≤ —Ü–µ–ø–∏."
            },
            {
                term: "–£–†–ê–ù",
                category: "–ú–∞—Ç–µ—Ä–∏–∞–ª—ã",
                description: "–†–∞–¥–∏–æ–∞–∫—Ç–∏–≤–Ω—ã–π —Ö–∏–º–∏—á–µ—Å–∫–∏–π —ç–ª–µ–º–µ–Ω—Ç. –û—Å–Ω–æ–≤–Ω–æ–µ —Ç–æ–ø–ª–∏–≤–æ –¥–ª—è –∞—Ç–æ–º–Ω—ã—Ö —ç–ª–µ–∫—Ç—Ä–æ—Å—Ç–∞–Ω—Ü–∏–π."
            },
            {
                term: "–°–¢–ê–ë–ò–õ–ò–ó–ê–¢–û–†",
                category: "–ó–∞—â–∏—Ç–∞ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è",
                description: "–°—Ç–∞–±–∏–ª–∏–∑–∏—Ä—É–µ—Ç –Ω–∞–ø—Ä—è–∂–µ–Ω–∏–µ –≤ —Å–µ—Ç–∏. –ó–∞—â–∏—â–∞–µ—Ç –æ—Ç —Å–∫–∞—á–∫–æ–≤ –Ω–∞–ø—Ä—è–∂–µ–Ω–∏—è."
            },
            {
                term: "–†–ï–õ–ï",
                category: "–ö–æ–º–º—É—Ç–∞—Ü–∏—è",
                description: "–≠–ª–µ–∫—Ç—Ä–æ–º–∞–≥–Ω–∏—Ç–Ω—ã–π –≤—ã–∫–ª—é—á–∞—Ç–µ–ª—å. –£–ø—Ä–∞–≤–ª—è–µ—Ç –±–æ–ª—å—à–æ–π –Ω–∞–≥—Ä—É–∑–∫–æ–π –º–∞–ª—ã–º —Ç–æ–∫–æ–º."
            },
            {
                term: "–ö–õ–ï–ú–ú–ê",
                category: "–°–æ–µ–¥–∏–Ω–∏—Ç–µ–ª–∏",
                description: "–ó–∞–∂–∏–º –¥–ª—è –ø—Ä–æ–≤–æ–¥–æ–≤. –ë—ã–≤–∞–µ—Ç –≤–∏–Ω—Ç–æ–≤–∞—è –∏ –ø—Ä—É–∂–∏–Ω–Ω–∞—è."
            },
            {
                term: "–¢–†–ê–ù–°–§–û–†–ú–ê–¢–û–†",
                category: "–≠–ª–µ–∫—Ç—Ä–æ–æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ",
                description: "–£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è –Ω–∞–ø—Ä—è–∂–µ–Ω–∏—è. –ò–º–µ–µ—Ç –ø–µ—Ä–≤–∏—á–Ω—É—é –∏ –≤—Ç–æ—Ä–∏—á–Ω—É—é –æ–±–º–æ—Ç–∫–∏."
            },
            {
                term: "–ü–†–û–í–û–î–ù–ò–ö",
                category: "–ú–∞—Ç–µ—Ä–∏–∞–ª—ã",
                description: "–ú–∞—Ç–µ—Ä–∏–∞–ª, —Ö–æ—Ä–æ—à–æ –ø—Ä–æ–≤–æ–¥—è—â–∏–π —ç–ª–µ–∫—Ç—Ä–∏—á–µ—Å–∫–∏–π —Ç–æ–∫. –ú–µ–¥—å –∏ –∞–ª—é–º–∏–Ω–∏–π - —Å–∞–º—ã–µ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—ë–Ω–Ω—ã–µ."
            },
            {
                term: "–û–°–¶–ò–õ–õ–û–ì–†–ê–§",
                category: "–ò–∑–º–µ—Ä–µ–Ω–∏—è",
                description: "–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ñ–æ—Ä–º—É —ç–ª–µ–∫—Ç—Ä–∏—á–µ—Å–∫–æ–≥–æ —Å–∏–≥–Ω–∞–ª–∞. –ò–º–µ–µ—Ç —ç–∫—Ä–∞–Ω —Å —Å–µ—Ç–∫–æ–π."
            },
            {
                term: "–¢–ê–•–û–ú–ï–¢–†",
                category: "–ò–∑–º–µ—Ä–µ–Ω–∏—è",
                description: "–ò–∑–º–µ—Ä—è–µ—Ç —Å–∫–æ—Ä–æ—Å—Ç—å –≤—Ä–∞—â–µ–Ω–∏—è. –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –æ–±–æ—Ä–æ—Ç—ã –≤ –º–∏–Ω—É—Ç—É."
            }
        ];

        // ========== –ò–ì–†–û–í–´–ï –ü–ï–†–ï–ú–ï–ù–ù–´–ï ==========
        let currentTermIndex = 0;
        let currentTeamIndex = 0;
        let currentTeamQuestion = 0;
        let totalTeamQuestions = 5; // –ë—É–¥–µ—Ç –ø–µ—Ä–µ—Å—á–∏—Ç–∞–Ω–æ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∫–æ–º–∞–Ω–¥
        let score = 0;
        let termsSolved = 0;
        let timer;
        let timeLeft = 50;
        let startTime = 0;
        let teams = [];
        let isGameActive = false;
        let usedQuestions = new Set(); // –î–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã—Ö –≤–æ–ø—Ä–æ—Å–æ–≤

        // ========== –§–£–ù–ö–¶–ò–ò –ó–ê–ì–†–£–ó–ö–ò –ö–û–ú–ê–ù–î ==========
        function loadTeams() {
            // –ü—Ä–æ–±—É–µ–º —Ä–∞–∑–Ω—ã–µ –∫–ª—é—á–∏, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –≤ —Ä–∞–∑–Ω—ã—Ö –≤–∏–∫—Ç–æ—Ä–∏–Ω–∞—Ö
            const possibleKeys = ['energyQuizTeams', 'energyTeams', 'quizTeams', 'teams'];
            let foundTeams = null;
            
            // –ò—â–µ–º –∫–æ–º–∞–Ω–¥—ã –ø–æ –≤—Å–µ–º –≤–æ–∑–º–æ–∂–Ω—ã–º –∫–ª—é—á–∞–º
            for (const key of possibleKeys) {
                const savedTeams = localStorage.getItem(key);
                if (savedTeams) {
                    try {
                        foundTeams = JSON.parse(savedTeams);
                        console.log(`–ö–æ–º–∞–Ω–¥—ã –∑–∞–≥—Ä—É–∂–µ–Ω—ã –∏–∑ –∫–ª—é—á–∞: ${key}`);
                        break;
                    } catch (e) {
                        console.error(`–û—à–∏–±–∫–∞ –ø—Ä–∏ –ø–∞—Ä—Å–∏–Ω–≥–µ –¥–∞–Ω–Ω—ã—Ö –∏–∑ ${key}:`, e);
                    }
                }
            }
            
            // –ï—Å–ª–∏ –∫–æ–º–∞–Ω–¥—ã –Ω–∞–π–¥–µ–Ω—ã
            if (foundTeams && Array.isArray(foundTeams) && foundTeams.length > 0) {
                teams = foundTeams.map((team, index) => {
                    return {
                        name: team.name || `–ö–æ–º–∞–Ω–¥–∞ ${index + 1}`,
                        icon: team.icon || getRandomIcon(),
                        color: team.color || getRandomColor(),
                        score: team.score || 0,
                        id: team.id || index
                    };
                });
                
                // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ –µ–¥–∏–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ –¥–ª—è –¥—Ä—É–≥–∏—Ö –≤–∏–∫—Ç–æ—Ä–∏–Ω
                localStorage.setItem('energyQuizTeams', JSON.stringify(teams));
                
                console.log(`–ó–∞–≥—Ä—É–∂–µ–Ω–æ ${teams.length} –∫–æ–º–∞–Ω–¥`);
                
                // –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–æ–ø—Ä–æ—Å–æ–≤ –Ω–∞ –∫–æ–º–∞–Ω–¥—É
                totalTeamQuestions = Math.floor(20 / teams.length);
                console.log(`–í–æ–ø—Ä–æ—Å–æ–≤ –Ω–∞ –∫–æ–º–∞–Ω–¥—É: ${totalTeamQuestions}`);
                
            } else {
                // –ï—Å–ª–∏ –∫–æ–º–∞–Ω–¥—ã –Ω–µ –Ω–∞–π–¥–µ–Ω—ã, —Å–æ–∑–¥–∞–µ–º –¥–µ–º–æ-–∫–æ–º–∞–Ω–¥—ã
                console.warn('–ö–æ–º–∞–Ω–¥—ã –Ω–µ –Ω–∞–π–¥–µ–Ω—ã –≤ localStorage. –°–æ–∑–¥–∞–Ω—ã –¥–µ–º–æ-–∫–æ–º–∞–Ω–¥—ã.');
                teams = [
                    { name: "–†–µ–∞–∫—Ç–æ—Ä", icon: "‚öõÔ∏è", color: "#FF6B6B", score: 0, id: 1 },
                    { name: "–í–æ–ª—å—Ç", icon: "‚ö°", color: "#4ECDC4", score: 0, id: 2 },
                    { name: "–ê–º–ø–µ—Ä", icon: "üîå", color: "#45B7D1", score: 0, id: 3 },
                    { name: "–ö–≤–∞–Ω—Ç", icon: "üî¨", color: "#96CEB4", score: 0, id: 4 }
                ];
                
                localStorage.setItem('energyQuizTeams', JSON.stringify(teams));
                totalTeamQuestions = 5; // –î–ª—è 4 –∫–æ–º–∞–Ω–¥
            }
            
            renderTeams();
        }

        function getRandomIcon() {
            const icons = ["‚öõÔ∏è", "‚ö°", "üîå", "üîã", "üí°", "üî¨", "üîß", "üî®", "‚öôÔ∏è", "üéØ"];
            return icons[Math.floor(Math.random() * icons.length)];
        }

        function getRandomColor() {
            const colors = ["#FF6B6B", "#4ECDC4", "#45B7D1", "#96CEB4", "#FFE66D", "#FF8E53", "#A78BFA", "#F472B6"];
            return colors[Math.floor(Math.random() * colors.length)];
        }

        function renderTeams() {
            const teamsGrid = document.getElementById('teamsGrid');
            teamsGrid.innerHTML = '';
            
            teams.forEach((team, index) => {
                const teamCard = document.createElement('div');
                teamCard.className = `team-card ${index === currentTeamIndex && isGameActive ? 'active' : ''}`;
                teamCard.style.borderColor = team.color;
                teamCard.innerHTML = `
                    <div class="team-icon">${team.icon}</div>
                    <div class="team-info">
                        <div class="team-name">${team.name}</div>
                        <div class="team-score">${team.score || 0} –±–∞–ª–ª–æ–≤</div>
                    </div>
                `;
                teamsGrid.appendChild(teamCard);
            });
        }

        function updateCurrentTeamInfo() {
            const currentTeam = teams[currentTeamIndex];
            if (!currentTeam) return;
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∫–æ–º–∞–Ω–¥–µ
            document.getElementById('currentTeamNameDisplay').textContent = currentTeam.name;
            document.getElementById('currentQuestionNumber').textContent = currentTeamQuestion + 1;
            document.getElementById('totalTeamQuestions').textContent = totalTeamQuestions;
            document.getElementById('teamScoreDisplay').textContent = currentTeam.score || 0;
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –∞–∫—Ç–∏–≤–Ω—É—é –∫–æ–º–∞–Ω–¥—É –≤ —Å–µ—Ç–∫–µ
            document.querySelectorAll('.team-card').forEach((card, index) => {
                card.classList.toggle('active', index === currentTeamIndex && isGameActive);
            });
        }

        // ========== –û–°–ù–û–í–ù–´–ï –ò–ì–†–û–í–´–ï –§–£–ù–ö–¶–ò–ò ==========
        function startGame() {
            console.log("–ù–∞–∂–∞—Ç–∞ –∫–Ω–æ–ø–∫–∞ '–ù–∞—á–∞—Ç—å –∏–≥—Ä—É'");
            
            if (teams.length === 0) {
                alert('–ù–µ—Ç –∫–æ–º–∞–Ω–¥ –¥–ª—è –∏–≥—Ä—ã. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É.');
                return;
            }
            
            // –°–±—Ä–æ—Å –≤—Å–µ—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
            isGameActive = true;
            currentTermIndex = 0;
            currentTeamIndex = 0;
            currentTeamQuestion = 0;
            score = 0;
            termsSolved = 0;
            usedQuestions.clear();
            
            // –°–∫—Ä—ã–≤–∞–µ–º –∫–Ω–æ–ø–∫—É "–ù–∞—á–∞—Ç—å –∏–≥—Ä—É"
            document.getElementById('startGameBtn').style.display = 'none';
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∏–≥—Ä–æ–≤—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã
            document.getElementById('questionSection').style.display = 'block';
            document.getElementById('answerSection').style.display = 'block';
            document.getElementById('timerSection').style.display = 'block';
            document.getElementById('teamInfoSection').style.display = 'block';
            document.getElementById('gameButtons').style.display = 'flex';
            
            // –°–∫—Ä—ã–≤–∞–µ–º –Ω–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω—ã–µ –∫–Ω–æ–ø–∫–∏ –∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç
            document.getElementById('navigationButtons').style.display = 'none';
            document.getElementById('resultSection').style.display = 'none';
            
            // –°–±—Ä–∞—Å—ã–≤–∞–µ–º —Ç–∞–π–º–µ—Ä
            resetTimer();
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –∫–æ–º–∞–Ω–¥—ã
            renderTeams();
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∫–æ–º–∞–Ω–¥–µ
            updateCurrentTeamInfo();
            
            // –í—ã–±–∏—Ä–∞–µ–º —Å–ª—É—á–∞–π–Ω—ã–π –≤–æ–ø—Ä–æ—Å
            selectRandomQuestion();
        }

        function selectRandomQuestion() {
            // –ù–∞—Ö–æ–¥–∏–º –Ω–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã–π –≤–æ–ø—Ä–æ—Å
            let availableQuestions = [];
            for (let i = 0; i < energyTerms.length; i++) {
                if (!usedQuestions.has(i)) {
                    availableQuestions.push(i);
                }
            }
            
            // –ï—Å–ª–∏ –≤—Å–µ –≤–æ–ø—Ä–æ—Å—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω—ã, –∑–∞–≤–µ—Ä—à–∞–µ–º –∏–≥—Ä—É
            if (availableQuestions.length === 0) {
                endGame();
                return;
            }
            
            // –í—ã–±–∏—Ä–∞–µ–º —Å–ª—É—á–∞–π–Ω—ã–π –≤–æ–ø—Ä–æ—Å
            const randomIndex = Math.floor(Math.random() * availableQuestions.length);
            currentTermIndex = availableQuestions[randomIndex];
            usedQuestions.add(currentTermIndex);
            
            // –ù–∞—á–∏–Ω–∞–µ–º –≤–æ–ø—Ä–æ—Å
            startTerm();
        }

        function startTerm() {
            console.log("–ù–∞—á–∏–Ω–∞–µ–º –≤–æ–ø—Ä–æ—Å", currentTermIndex + 1, "–¥–ª—è –∫–æ–º–∞–Ω–¥—ã", teams[currentTeamIndex]?.name);
            
            const term = energyTerms[currentTermIndex];
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –≤–æ–ø—Ä–æ—Å
            document.getElementById('questionText').textContent = term.description;
            document.getElementById('categoryBadge').textContent = `–ö–∞—Ç–µ–≥–æ—Ä–∏—è: ${term.category}`;
            
            // –û—á–∏—â–∞–µ–º –ø–æ–ª–µ –≤–≤–æ–¥–∞
            const answerInput = document.getElementById('answerInput');
            answerInput.value = '';
            answerInput.className = 'answer-input';
            answerInput.disabled = false;
            answerInput.focus();
            
            // –í–∫–ª—é—á–∞–µ–º –∏–≥—Ä–æ–≤—ã–µ –∫–Ω–æ–ø–∫–∏
            document.getElementById('checkBtn').disabled = false;
            document.getElementById('skipBtn').disabled = false;
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∫–æ–º–∞–Ω–¥–µ
            updateCurrentTeamInfo();
            
            // –ó–∞–ø—É—Å–∫–∞–µ–º —Ç–∞–π–º–µ—Ä
            startTimer();
            
            // –°–∫—Ä—ã–≤–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∏ –Ω–∞–≤–∏–≥–∞—Ü–∏—é
            document.getElementById('resultSection').style.display = 'none';
            document.getElementById('navigationButtons').style.display = 'none';
        }

        function checkAnswer() {
            clearInterval(timer);
            
            const userAnswer = document.getElementById('answerInput').value.trim().toUpperCase();
            const currentTerm = energyTerms[currentTermIndex];
            const correctAnswer = currentTerm.term.toUpperCase();
            const variants = currentTerm.variants || [correctAnswer];
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º –≤—Å–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã –Ω–∞–ø–∏—Å–∞–Ω–∏—è
            const isCorrect = variants.some(variant => {
                const normalizedVariant = variant.toUpperCase().replace('–Å', '–ï');
                const normalizedUserAnswer = userAnswer.replace('–Å', '–ï');
                return normalizedUserAnswer === normalizedVariant;
            });
            
            // –†–∞—Å—á–µ—Ç –±–∞–ª–ª–æ–≤: 2 –±–∞–ª–ª–∞ –∑–∞ –±—ã—Å—Ç—Ä—ã–π –æ—Ç–≤–µ—Ç (–ø–µ—Ä–≤—ã–µ 25 —Å–µ–∫), 1 –±–∞–ª–ª –∑–∞ –ø–æ–∑–¥–Ω–∏–π
            const timeUsed = 50 - timeLeft;
            let points = 0;
            if (isCorrect) {
                if (timeUsed <= 25) {
                    points = 2; // –ë—ã—Å—Ç—Ä—ã–π –æ—Ç–≤–µ—Ç
                } else {
                    points = 1; // –ü–æ–∑–¥–Ω–∏–π –æ—Ç–≤–µ—Ç
                }
                
                score += points;
                termsSolved++;
                
                // –°–æ—Ö—Ä–∞–Ω—è–µ–º –æ—á–∫–∏ —Ç–µ–∫—É—â–µ–π –∫–æ–º–∞–Ω–¥–µ
                if (teams[currentTeamIndex]) {
                    teams[currentTeamIndex].score = (teams[currentTeamIndex].score || 0) + points;
                    localStorage.setItem('energyQuizTeams', JSON.stringify(teams));
                    renderTeams();
                }
                
                document.getElementById('answerInput').className = 'answer-input correct';
            } else {
                document.getElementById('answerInput').className = 'answer-input incorrect';
            }
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç
            showResult(isCorrect, points, currentTerm, timeUsed);
            
            // –û—Ç–∫–ª—é—á–∞–µ–º –∏–≥—Ä–æ–≤—ã–µ –∫–Ω–æ–ø–∫–∏
            document.getElementById('checkBtn').disabled = true;
            document.getElementById('skipBtn').disabled = true;
            document.getElementById('answerInput').disabled = true;
        }

        function skipQuestion() {
            clearInterval(timer);
            showResult(false, 0, energyTerms[currentTermIndex], 50 - timeLeft);
            
            document.getElementById('checkBtn').disabled = true;
            document.getElementById('skipBtn').disabled = true;
            document.getElementById('answerInput').disabled = true;
        }

        function showResult(isCorrect, points, termData, timeUsed) {
            const resultDiv = document.getElementById('resultSection');
            const correctAnswers = termData.variants || [termData.term];
            const answerText = correctAnswers.length > 1 
                ? correctAnswers.join(' –∏–ª–∏ ') 
                : termData.term;
            
            if (isCorrect) {
                resultDiv.className = 'result-section result-correct';
                resultDiv.innerHTML = `
                    <div class="result-content">
                        ‚úÖ <strong>–í–ï–†–ù–û!</strong><br>
                        <strong>${answerText}</strong><br>
                        +${points} –±–∞–ª–ª${points > 1 ? '–∞' : ''}!<br>
                        –í—Ä–µ–º—è: ${timeUsed} —Å–µ–∫—É–Ω–¥<br>
                        ${points === 2 ? 'üéØ –ë—ã—Å—Ç—Ä—ã–π –æ—Ç–≤–µ—Ç!' : 'üëç –•–æ—Ä–æ—à–∏–π –æ—Ç–≤–µ—Ç!'}
                    </div>
                `;
            } else {
                resultDiv.className = 'result-section result-wrong';
                resultDiv.innerHTML = `
                    <div class="result-content">
                        ‚ùå <strong>–ù–ï –£–ì–ê–î–ê–õ–ò!</strong><br>
                        –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç:<br>
                        <strong>${answerText}</strong>
                    </div>
                `;
            }
            
            resultDiv.style.display = 'block';
            
            // –û–ø—Ä–µ–¥–µ–ª—è–µ–º, –∫–∞–∫–æ–π –∫–Ω–æ–ø–∫–æ–π –ø—Ä–æ–¥–æ–ª–∂–∞—Ç—å
            const isLastQuestionForTeam = currentTeamQuestion >= totalTeamQuestions - 1;
            const isLastQuestionOverall = usedQuestions.size >= 20;
            
            if (isLastQuestionOverall) {
                document.getElementById('nextTermBtn').textContent = 'üèÜ –ó–ê–í–ï–†–®–ò–¢–¨ –ò–ì–†–£';
                document.getElementById('nextTermBtn').style.display = 'block';
                document.getElementById('nextTeamBtn').style.display = 'none';
            } else if (isLastQuestionForTeam) {
                document.getElementById('nextTermBtn').style.display = 'none';
                document.getElementById('nextTeamBtn').style.display = 'block';
            } else {
                document.getElementById('nextTermBtn').textContent = '‚û°Ô∏è –°–ª–µ–¥—É—é—â–∏–π —Ç–µ—Ä–º–∏–Ω';
                document.getElementById('nextTermBtn').style.display = 'block';
                document.getElementById('nextTeamBtn').style.display = 'none';
            }
            
            document.getElementById('navigationButtons').style.display = 'flex';
        }

        function nextTerm() {
            // –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º —Å—á–µ—Ç—á–∏–∫ –≤–æ–ø—Ä–æ—Å–æ–≤ –∫–æ–º–∞–Ω–¥—ã
            currentTeamQuestion++;
            
            // –ï—Å–ª–∏ –∫–æ–º–∞–Ω–¥–∞ –æ—Ç–≤–µ—Ç–∏–ª–∞ –Ω–∞ –≤—Å–µ —Å–≤–æ–∏ –≤–æ–ø—Ä–æ—Å—ã, –ø–µ—Ä–µ—Ö–æ–¥–∏–º –∫ —Å–ª–µ–¥—É—é—â–µ–π –∫–æ–º–∞–Ω–¥–µ
            if (currentTeamQuestion >= totalTeamQuestions) {
                currentTeamQuestion = 0;
                nextTeam();
            } else {
                // –í—ã–±–∏—Ä–∞–µ–º —Å–ª–µ–¥—É—é—â–∏–π —Å–ª—É—á–∞–π–Ω—ã–π –≤–æ–ø—Ä–æ—Å
                selectRandomQuestion();
            }
        }

        function nextTeam() {
            // –ü–µ—Ä–µ—Ö–æ–¥–∏–º –∫ —Å–ª–µ–¥—É—é—â–µ–π –∫–æ–º–∞–Ω–¥–µ
            currentTeamIndex = (currentTeamIndex + 1) % teams.length;
            currentTeamQuestion = 0;
            
            // –í—ã–±–∏—Ä–∞–µ–º —Å–ª–µ–¥—É—é—â–∏–π —Å–ª—É—á–∞–π–Ω—ã–π –≤–æ–ø—Ä–æ—Å
            selectRandomQuestion();
        }

        // ========== –¢–ê–ô–ú–ï–† ==========
        function startTimer() {
            resetTimer();
            startTime = Date.now();
            timer = setInterval(updateTimer, 1000);
        }

        function resetTimer() {
            clearInterval(timer);
            timeLeft = 50;
            updateTimerDisplay();
        }

        function updateTimer() {
            timeLeft--;
            updateTimerDisplay();
            
            if (timeLeft <= 0) {
                clearInterval(timer);
                timeUp();
            }
        }

        function updateTimerDisplay() {
            const timerElement = document.getElementById('timerDisplay');
            const timerBar = document.getElementById('timerBar');
            
            timerElement.textContent = timeLeft;
            timerBar.style.width = `${(timeLeft / 50) * 100}%`;
            
            if (timeLeft <= 15) {
                timerElement.className = 'timer-display danger';
            } else if (timeLeft <= 30) {
                timerElement.className = 'timer-display warning';
            } else {
                timerElement.className = 'timer-display';
            }
        }

        function timeUp() {
            showResult(false, 0, energyTerms[currentTermIndex], 50);
            document.getElementById('answerInput').disabled = true;
            document.getElementById('checkBtn').disabled = true;
            document.getElementById('skipBtn').disabled = true;
        }

        function endGame() {
            isGameActive = false;
            
            const finalScreen = document.createElement('div');
            finalScreen.style.cssText = `
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: rgba(0, 0, 0, 0.95);
                display: flex;
                justify-content: center;
                align-items: center;
                z-index: 1000;
            `;
            
            const sortedTeams = [...teams].sort((a, b) => (b.score || 0) - (a.score || 0));
            const accuracy = Math.round((termsSolved / usedQuestions.size) * 100);
            
            finalScreen.innerHTML = `
                <div style="
                    background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
                    padding: 40px;
                    border-radius: 20px;
                    border: 3px solid #FFD700;
                    text-align: center;
                    max-width: 700px;
                    width: 90%;
                    max-height: 90vh;
                    overflow-y: auto;
                ">
                    <h2 style="color: #FFD700; margin-bottom: 25px; font-size: 2em;">üèÜ –ò–ì–†–ê –ó–ê–í–ï–†–®–ï–ù–ê!</h2>
                    
                    <div style="font-size: 1.3em; margin-bottom: 25px; color: #FFD700;">
                        ${getFinalComment(accuracy)}
                    </div>
                    
                    <div style="background: rgba(255,255,255,0.1); padding: 20px; border-radius: 15px; margin: 20px 0;">
                        <h3 style="color: #00b4db; margin-bottom: 15px;">üìä –û–ë–©–ê–Ø –°–¢–ê–¢–ò–°–¢–ò–ö–ê</h3>
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; text-align: left; font-size: 1em;">
                            <div>‚úÖ –£–≥–∞–¥–∞–Ω–æ —Ç–µ—Ä–º–∏–Ω–æ–≤:</div>
                            <div style="color: #00ff88; text-align: right;">${termsSolved}/${usedQuestions.size}</div>
                            <div>üéØ –¢–æ—á–Ω–æ—Å—Ç—å:</div>
                            <div style="color: #00ff88; text-align: right;">${accuracy}%</div>
                            <div>‚ö° –û–±—â–∏–π —Å—á—ë—Ç:</div>
                            <div style="color: #00ff88; text-align: right;">${score} –±–∞–ª–ª–æ–≤</div>
                            <div>üèÖ –°—Ä–µ–¥–Ω–∏–π –±–∞–ª–ª:</div>
                            <div style="color: #00ff88; text-align: right;">${(score/termsSolved || 0).toFixed(1)} –∑–∞ —Ç–µ—Ä–º–∏–Ω</div>
                        </div>
                    </div>
                    
                    <div style="margin: 25px 0;">
                        <h3 style="color: #00b4db; margin-bottom: 15px;">ü•á –¢–ê–ë–õ–ò–¶–ê –õ–ò–î–ï–†–û–í</h3>
                        ${sortedTeams.map((team, index) => `
                            <div style="
                                display: flex;
                                justify-content: space-between;
                                align-items: center;
                                margin: 10px 0;
                                padding: 12px 20px;
                                background: ${index === 0 ? 'rgba(255, 215, 0, 0.2)' : 'rgba(255, 255, 255, 0.05)'};
                                border-radius: 10px;
                                border-left: 5px solid ${team.color};
                            ">
                                <div style="display: flex; align-items: center; gap: 10px;">
                                    <span style="font-size: 1.3em;">${index === 0 ? 'ü•á' : index === 1 ? 'ü•à' : index === 2 ? 'ü•â' : 'üèÖ'}</span>
                                    <span style="font-size: 1.3em;">${team.icon}</span>
                                    <span style="font-weight: bold; font-size: 1.1em;">${team.name}</span>
                                </div>
                                <div style="font-size: 1.3em; color: #00ff88; font-weight: bold;">
                                    ${team.score || 0} –±–∞–ª–ª–æ–≤
                                </div>
                            </div>
                        `).join('')}
                    </div>
                    
                    <div style="display: flex; gap: 15px; justify-content: center; flex-wrap: wrap; margin-top: 30px;">
                        <button onclick="this.parentElement.parentElement.remove(); startGame()" 
                                style="
                                    padding: 15px 30px;
                                    background: linear-gradient(45deg, #FFD700, #FFA500);
                                    color: white;
                                    border: none;
                                    border-radius: 25px;
                                    font-size: 1.1em;
                                    font-weight: bold;
                                    cursor: pointer;
                                    min-width: 200px;
                                ">
                            üîÑ –ò–≥—Ä–∞—Ç—å –µ—â—ë —Ä–∞–∑
                        </button>
                        <button onclick="window.location.href='index.html'" 
                                style="
                                    padding: 15px 30px;
                                    background: linear-gradient(45deg, #00ff88, #00cc66);
                                    color: white;
                                    border: none;
                                    border-radius: 25px;
                                    font-size: 1.1em;
                                    font-weight: bold;
                                    cursor: pointer;
                                    min-width: 200px;
                                ">
                            üè† –ù–∞ –≥–ª–∞–≤–Ω—É—é
                        </button>
                    </div>
                </div>
            `;
            
            document.body.appendChild(finalScreen);
        }

        function getFinalComment(accuracy) {
            if (accuracy >= 90) return "üéâ –ü–æ—Ç—Ä—è—Å–∞—é—â–µ! –í—ã - —Ö–æ–¥—è—á–∞—è —ç–Ω—Ü–∏–∫–ª–æ–ø–µ–¥–∏—è —ç–Ω–µ—Ä–≥–µ—Ç–∏–∫–∏!";
            if (accuracy >= 70) return "üëè –û—Ç–ª–∏—á–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç! –ó–Ω–∞–Ω–∏—è –Ω–∞ –≤—ã—Å–æ—Ç–µ!";
            if (accuracy >= 50) return "üëç –•–æ—Ä–æ—à–æ! –ï—Å—Ç—å —á—Ç–æ –≤—Å–ø–æ–º–Ω–∏—Ç—å, –µ—Å—Ç—å —á—Ç–æ –∏–∑—É—á–∏—Ç—å!";
            return "üìö –ü–æ–ø—Ä–∞–∫—Ç–∏–∫—É–π—Ç–µ—Å—å –µ—â—ë - –∏ –±—É–¥–µ—Ç–µ –∑–Ω–∞—Ç—å –≤—Å–µ —Ç–µ—Ä–º–∏–Ω—ã!";
        }

        // ========== –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø ==========
        document.addEventListener('DOMContentLoaded', function() {
            console.log("–î–æ–∫—É–º–µ–Ω—Ç –∑–∞–≥—Ä—É–∂–µ–Ω");
            loadTeams();
            
            // –°–∫—Ä—ã–≤–∞–µ–º –∏–≥—Ä–æ–≤—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
            document.getElementById('questionSection').style.display = 'none';
            document.getElementById('answerSection').style.display = 'none';
            document.getElementById('timerSection').style.display = 'none';
            document.getElementById('teamInfoSection').style.display = 'none';
            document.getElementById('gameButtons').style.display = 'none';
            document.getElementById('navigationButtons').style.display = 'none';
            
            // –§–æ–∫—É—Å –Ω–∞ –∫–Ω–æ–ø–∫–µ "–ù–∞—á–∞—Ç—å –∏–≥—Ä—É"
            document.getElementById('startGameBtn').focus();
        });
    </script>
</body>
</html>
